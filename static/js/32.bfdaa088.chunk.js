(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{568:function(e,a,t){"use strict";var r=t(12),n=t(15),l=t(0),s=t.n(l),c=t(4),o=t.n(c),m=t(14),i=t.n(m),d=t(6),u={tag:d.p,className:o.a.string,cssModule:o.a.object},h=function(e){var a=e.className,t=e.cssModule,l=e.tag,c=Object(n.a)(e,["className","cssModule","tag"]),o=Object(d.l)(i()(a,"card-header"),t);return s.a.createElement(l,Object(r.a)({},c,{className:o}))};h.propTypes=u,h.defaultProps={tag:"div"},a.a=h},572:function(e,a,t){"use strict";t.d(a,"a",function(){return c});var r=t(0),n=t.n(r),l=t(564),s=t(266);function c(e){var a=e.isOpen,t=e.toggle,r=e.handle,c=e.content,o=e.showTitle,m=void 0===o||o;return n.a.createElement(l.a,{className:"modal-dialog-centered",isOpen:a,toggle:t},n.a.createElement("div",{className:"modal-header"},m&&n.a.createElement("h6",{className:"modal-title",id:"modal-title-default"}," Confirm Delete!"),n.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:t},n.a.createElement("span",{"aria-hidden":!0},"\xd7"))),n.a.createElement("div",{className:"modal-body text-center"},n.a.createElement("b",null,c)),n.a.createElement("div",{className:"modal-footer"},n.a.createElement(s.a,{color:"danger",type:"button",onClick:r},"Yes"),n.a.createElement(s.a,{className:"ml-auto",color:"secondary","data-dismiss":"modal",type:"button",onClick:t},"Cancel")))}},749:function(e,a,t){},833:function(e,a,t){},978:function(e,a,t){"use strict";t.r(a);var r=t(5),n=t(53),l=t(30),s=t(31),c=t(33),o=t(32),m=t(34),i=t(0),d=t.n(i),u=t(536),h=t(554),f=t(538),p=t(556),E=t(568),g=t(539),N=t(266),b=t(560),v=t(562),w=t(563),y=t(44),C=t.n(y),j=t(48),k=t(207),A=t(8),O=t(18),D=t(104),P=t(125),x=t(572),S=(t(833),t(749),t(190)),F=t.n(S),R="Password does not match",q=function(e){function a(){var e,t;Object(l.a)(this,a);for(var s=arguments.length,m=new Array(s),i=0;i<s;i++)m[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(m)))).state={notificationModal:!1,alert:null,userDetail:{},firstName:null,lastName:null,email:"",password:"",confirmPassword:"",errors:{},isFormReady:{},isDeleteAccount:!1,avatar:null},t.getDetail=function(e){k.a.getAdminDetail(e).then(function(e){t.setState(e)}).catch(function(e){console.error(e)})},t.handleChange=function(e){var a=e.target,l=a.name,s=a.value;t.setState(Object(n.a)({},l,s),function(){if("confirmPassword"===l||"password"===l){var e=t.state;if(e.password!==e.confirmPassword)t.setState({errors:Object(r.a)({},t.state.errors,{confirmPassword:[R]})});else{var a=t.state.errors;delete a.confirmPassword,t.setState({errors:a})}}})},t.handleFile=function(e){var a=e.target,r=a.name,l=a.files;l.length&&t.setState(Object(n.a)({},r,l[0]))},t.handleError=function(e,a){var l,s=!0;if(a)for(var c in t.state.isFormReady)s=s&&t.state.isFormReady[c];t.setState({isFormReady:Object(r.a)({},t.state.isFormReady,(l={},Object(n.a)(l,e,a),Object(n.a)(l,"check",s&&a),l))})},t.updateAdminDetail=function(){var e=t.state,a=e.firstName,n=e.lastName,l=e.email,s=e.password,c=e.confirmPassword,o={firstName:a,lastName:n,email:l,avatar:e.avatar,id:e.id};if((C.a.isString(o.avatar)||C.a.isNull(o.avatar))&&delete o.avatar,s)if(s!==c)t.setState({errors:Object(r.a)({},t.state.errors,{confirmPassword:[R]})});else{var m=Object(r.a)({},o,{password:s});t.callApi(m)}else t.callApi(o)},t.deleteAdminAccount=function(){var e=t.state.id;k.a.deleteAdminAccount(e).then(function(){A.b.success("Delete Account success !"),t.goToSystemPage()}).catch(function(e){console.error(e),A.b.error("Delete Account fail !")})},t.toggleConfirmDelete=function(){t.setState({isDeleteAccount:!t.state.isDeleteAccount})},t.goToSystemPage=function(){t.props.history.push("/admin/system")},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDetail(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.id!==e.match.params.id&&this.getDetail(e.match.params.id)}},{key:"callApi",value:function(e){var a=this;k.a.updateAdminDetail(e).then(function(){A.b.success("Update Account success !")}).catch(function(e){var t=e.response.data;a.setState({errors:t}),A.b.error("Update Account fail !")})}},{key:"render",value:function(){var e=this,a=this.state,t=this.state,r=t.errors,n=t.isFormReady,l=t.firstName,s=t.lastName,c=t.email,o=t.avatar,m=(l&&c&&s&&n.check,Object(O.x)(a));return d.a.createElement(d.a.Fragment,null,d.a.createElement(x.a,{className:"modal-dialog-centered",isOpen:this.state.isDeleteAccount,toggle:this.toggleConfirmDelete,handle:this.deleteAdminAccount,content:'Do you want to delete "'.concat(m,'" account?')}),d.a.createElement(u.a,{className:"mt-6 d-flex justify-content-center align-items-center user-detail",fluid:!0},d.a.createElement(h.a,{className:"card-profile card-custom"},d.a.createElement(f.a,{className:"align-items-center card-profile-image"},d.a.createElement("div",{onClick:function(){return e.openImageFile.click()}},d.a.createElement(p.a,{alt:"...",className:"rounded-circle custom-avatar avatar",src:C.a.isObject(o)?URL.createObjectURL(o):C.a.isString(o)?o:F.a}))),d.a.createElement(E.a,{className:"text-center border-0 pb-0"},d.a.createElement(f.a,{className:"justify-content-center mt-4"},d.a.createElement(g.a,null,d.a.createElement("input",{ref:function(a){return e.openImageFile=a},onChange:this.handleFile,className:"d-none",type:"file",name:"avatar",id:"roomImage",accept:".jpg,.gif,.jpeg,.png"}),d.a.createElement(N.a,{className:"mt-4 align-items-center",color:"link",onClick:function(){return e.openImageFile.click()}},"Change Image"),d.a.createElement("div",{className:"error-text mt-3"},r.image)))),d.a.createElement(b.a,{className:"border-0 pb-0 mx-3 wrapper__body"},d.a.createElement(v.a,null,d.a.createElement(f.a,null,d.a.createElement(w.a,{className:"form-control-label"},"First Name",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(f.a,{className:"d-block"},d.a.createElement(D.a,{type:"text",name:"firstName",handleError:this.handleError,errors:r.firstName,onChange:this.handleChange,required:!0,value:a.firstName||""}))),d.a.createElement(v.a,null,d.a.createElement(f.a,null,d.a.createElement(w.a,{className:"form-control-label"},"Last Name",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(f.a,{className:"d-block"},d.a.createElement(D.a,{type:"text",name:"lastName",handleError:this.handleError,errors:r.lastName,onChange:this.handleChange,required:!0,value:a.lastName||""}))),d.a.createElement(v.a,null,d.a.createElement(f.a,null,d.a.createElement(w.a,{className:"form-control-label"},"E-mail",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(f.a,{className:"d-block"},d.a.createElement(D.a,{type:"email",name:"email",handleError:this.handleError,errors:r.email,onChange:this.handleChange,regex:"email",required:!0,value:a.email||"",disabled:!!a.email}))),d.a.createElement(v.a,null,d.a.createElement(f.a,null,d.a.createElement(w.a,{className:"form-control-label"},"Password")),d.a.createElement(f.a,{className:"d-block"},d.a.createElement(D.a,{type:"password",name:"password",handleError:this.handleError,errors:r.password,onChange:this.handleChange,minLength:8,regex:"password"}))),d.a.createElement(v.a,null,d.a.createElement(f.a,null,d.a.createElement(w.a,{className:"form-control-label"},"Confirm Password")),d.a.createElement(f.a,{className:"d-block"},d.a.createElement(D.a,{type:"password",name:"confirmPassword",handleError:this.handleError,errors:r.confirmPassword,onChange:this.handleChange}))),d.a.createElement(P.a,{error:r,className:"mt-3"})),d.a.createElement(b.a,{className:"pb-md-4"},d.a.createElement(f.a,null,d.a.createElement(g.a,{className:"mb-3 d-flex justify-content-center"},d.a.createElement("div",{className:"text-center w-75"},d.a.createElement(N.a,{color:"danger",onClick:this.toggleConfirmDelete,className:"mb-3 w-100"},"Remove User"),d.a.createElement(j.b,{to:"/admin/system",className:"d-block w-100 mb-3"},d.a.createElement(N.a,{className:"w-100",color:"link"}," CANCEL")),d.a.createElement(N.a,{color:"success",className:"w-100",disabled:!1,onClick:this.updateAdminDetail},"Save Changes"))))))))}}]),a}(i.Component);a.default=q}}]);
//# sourceMappingURL=32.bfdaa088.chunk.js.map