{"version":3,"sources":["../node_modules/reactstrap/es/CardHeader.js","../node_modules/reactstrap/es/CardFooter.js","../node_modules/reactstrap/es/Table.js","helpers/ExportHelper.js","helpers/BillingHelper.js","pages/admin/Billing/BookingInvoiceDetail/Cancellations.jsx","pages/admin/Billing/BookingInvoiceDetail/TotalCharged.jsx","pages/admin/Billing/BookingInvoiceDetail/CreditBalance.jsx","pages/admin/Billing/BookingInvoiceDetail/ListDetail.jsx","pages/admin/Billing/BookingInvoiceDetail/InvoiceDetail.jsx"],"names":["_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","tag","className","a","string","cssModule","object","CardHeader","props","Tag","attributes","Object","classes","createElement","defaultProps","__webpack_exports__","CardFooter","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","responsiveTag","innerRef","func","Table","ResponsiveTag","table","ref","responsiveClassName","exportClientInvoicePDF","firstTableId","secondTableId","doc","jsPDF","highLight","fillColor","textColor","fontStyle","pageSize","internal","pageWidth","width","getWidth","text","autoTable","html","concat","startY","didParseCell","data","row","index","cell","styles","C_Users_Arslan_Documents_ethera_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","save","String","moment","valueOf","exportClientBillingPDF","totalCharged","fullName","getUserFullName","provider","startWeek","bookings","createdAt","startOf","endWeek","endOf","cancellation","INVOICE_NUMBER","invoiceNumber","PROVIDER_NAME","DURATION","getDateFormat","TOTAL_AMOUNT_DUE","rows","body","length","section","raw","includes","previous","finalY","pageBreak","getBookingList","bookingList","result","forEach","booking","i","prices","price","prevHours","totalHours","Number","hours","push","getCancellationList","status","cons","BOOKING_STATUS","CANCELED","getCredit","bookingInvoiceData","totalChargedBookings","promoCredit","etheraCredit","totalCredit","BILLING_STATUS","PAID","promoApplied","appliedPromoCredit","etheraApplied","appliedEtheraCredit","getTotalChargedBooking","listData","map","item","reduce","total","currentValue","getTotalCharged","creditApplied","TotalCharged","cancellations","totalCancellationBookings","react_default","Fragment","colSpan","bookingNumber","cancelDate","space","booking_number","cancellation_date","room","name","cancellationTotal","key","fixNumber","CreditBalance","openingCreditBalance","creditReceived","Card","CardBody","id","ListDetail","_props$bookingData","bookingData","tier","startDate","startTime","reservationTime","format","_bookingNumber","_purchaseDate","_reservationDate","_cancellationDate","_room","isShowCanceled","InvoiceDetail","dispatch","useDispatch","invoiceId","match","params","useSelector","state","billing","detailData","loading","useEffect","getInvoiceDetail","cancellationList","totalChargedBookingArr","totalCancellationBookingArr","_","get","isNull","providerOpenCredit","Loading","Col","Row","md","xs","BookingInvoiceDetail_ListDetail","BookingInvoiceDetail_TotalCharged","Cancellations","BookingInvoiceDetail_CreditBalance","Button","color","onClick","exportPDF","d","InvoiceDetail_InvoiceDetail"],"mappings":"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","file":"static/js/26.1dc8d805.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardFooter = function CardFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardFooter.propTypes = propTypes;\nCardFooter.defaultProps = defaultProps;\nexport default CardFooter;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport * as moment from 'moment';\r\nimport { getDateFormat, getUserFullName } from 'helpers/UtilsHelper';\r\n\r\nexport const exportClientInvoicePDF = (firstTableId, secondTableId) => {\r\n    const doc = new jsPDF('l', 'pt');\r\n    const highLight = {\r\n        fillColor: [41, 128, 186],\r\n        textColor: [255, 255, 255],\r\n        fontStyle: \"bold\"\r\n    }\r\n    const pageSize = doc.internal.pageSize;\r\n    const pageWidth = pageSize.width ? pageSize.width : pageSize.getWidth();\r\n    let TITLE = \"Billing Invoice\";\r\n    doc.text(TITLE, pageWidth / 2, 30, 'center');\r\n\r\n    doc.autoTable({\r\n        html: `#${firstTableId}`,\r\n        startY: 55,\r\n        didParseCell: data => {\r\n            if (data.row.index === 0) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n        },\r\n    });\r\n    doc.autoTable({\r\n        html: `#${secondTableId}`,\r\n        // startY: doc.autoTable.previous.finalY + 50,\r\n        // pageBreak: 'always',\r\n        didParseCell: data => {\r\n            if (data.row.index === 1) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n        },\r\n    });\r\n    doc.save(`invoice_${String(moment().valueOf())}.pdf`);\r\n}\r\n\r\nexport const exportClientBillingPDF = (data, totalCharged, firstTableId, secondTableId) => {\r\n    const fullName = getUserFullName(data.provider)\r\n    const startWeek = moment(data.bookings && data.bookings[0].createdAt).startOf('week');\r\n    const endWeek = moment(data.bookings && data.bookings[0].createdAt).endOf('week');\r\n\r\n    const doc = new jsPDF('l', 'pt');\r\n    const highLight = {\r\n        fillColor: [227, 136, 91],\r\n        textColor: [255, 255, 255],\r\n        fontStyle: \"bold\"\r\n    }\r\n    const cancellation = {\r\n        textColor: [245, 54, 92],\r\n    }\r\n    const pageSize = doc.internal.pageSize;\r\n    const pageWidth = pageSize.width ? pageSize.width : pageSize.getWidth();\r\n\r\n    let ETHERA_PAY = \"EtheraPay\";\r\n    let INVOICE_NUMBER = `Invoice ${data.invoiceNumber}`;\r\n    let PROVIDER_NAME = fullName;\r\n    let DURATION = `${getDateFormat(startWeek)} - ${getDateFormat(endWeek)}`;\r\n    let TOTAL_AMOUNT_DUE = \"TOTAL AMOUNT DUE: \" + String(totalCharged) + \"$\"\r\n\r\n    doc.text(ETHERA_PAY, pageWidth / 2, 30, 'center');\r\n    doc.text(INVOICE_NUMBER, pageWidth / 2, 55, 'center');\r\n    doc.text(PROVIDER_NAME, pageWidth / 2, 80, 'center');\r\n    doc.text(DURATION, pageWidth / 2, 105, 'center');\r\n\r\n    doc.autoTable({\r\n        html: `#${firstTableId}`,\r\n        startY: 120,\r\n        didParseCell: data => {\r\n            var rows = data.table.body;\r\n            if (data.row.index === rows.length - 1) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n            if (data.section === \"body\" && data.row.raw.className && data.row.raw.className.includes(\"custom-row__cancellation\")) {\r\n                data.cell.styles = { ...data.cell.styles, ...cancellation }\r\n            }\r\n        },\r\n    });\r\n    doc.text(TOTAL_AMOUNT_DUE, pageWidth / 2, doc.autoTable.previous.finalY + 30, 'center');\r\n\r\n    doc.autoTable({\r\n        html: `#${secondTableId}`,\r\n        startY: doc.autoTable.previous.finalY + 50,\r\n        pageBreak: 'always',\r\n        didParseCell: data => {\r\n            var rows = data.table.body;\r\n            if (data.row.index === rows.length - 1) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n        },\r\n    });\r\n    doc.save(`Ethera-Pay_${String(moment().valueOf())}.pdf`);\r\n}","import 'jspdf-autotable';\r\nimport cons from '../constants'\r\n\r\nexport const getBookingList = (bookingList) => {\r\n    let result = []\r\n    bookingList && bookingList.forEach((booking, i) => {\r\n        booking.prices && booking.prices.forEach(price => {\r\n            const prevHours = result.length === 0 ? 0 : result[result.length - 1].totalHours\r\n            let data = {\r\n                ...price,\r\n                ...booking,\r\n                totalHours: Number(price.hours) + Number(prevHours)\r\n            }\r\n            result.push(data)\r\n        })\r\n    })\r\n    return result\r\n}\r\n\r\nexport const getCancellationList = (bookingList) => {\r\n    let result = []\r\n    bookingList && bookingList.forEach(booking => {\r\n        if (booking.status === cons.BOOKING_STATUS.CANCELED) {\r\n            booking.prices.forEach((price) => {\r\n                let data = {\r\n                    ...price,\r\n                    ...booking,\r\n                }\r\n                result.push(data)\r\n            })\r\n        }\r\n    })\r\n    return result\r\n}\r\n\r\nexport const getCredit = (bookingInvoiceData, totalChargedBookings, promoCredit, etheraCredit) => {\r\n    const totalCredit = Number(promoCredit) + Number(etheraCredit)\r\n    if (Number(bookingInvoiceData.status) === cons.BILLING_STATUS.PAID) {\r\n        const promoApplied = bookingInvoiceData.appliedPromoCredit\r\n        const etheraApplied = bookingInvoiceData.appliedEtheraCredit\r\n        return {\r\n            promoApplied,\r\n            etheraApplied,\r\n        }\r\n    }\r\n    else {\r\n        if (Number(totalChargedBookings) < Number(promoCredit)) {\r\n            const promoApplied = totalChargedBookings\r\n            const etheraApplied = 0\r\n            return {\r\n                promoApplied,\r\n                etheraApplied,\r\n            }\r\n        }\r\n        else if (Number(totalChargedBookings) < Number(totalCredit)) {\r\n            const promoApplied = promoCredit\r\n            const etheraApplied = Number(totalChargedBookings) - Number(promoCredit)\r\n            return {\r\n                promoApplied,\r\n                etheraApplied,\r\n            }\r\n        }\r\n        else {\r\n            const promoApplied = promoCredit\r\n            const etheraApplied = etheraCredit\r\n            return {\r\n                promoApplied,\r\n                etheraApplied,\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const getTotalChargedBooking = (listData) => {\r\n    const tempArr = listData.length > 0 && listData.map(item => {\r\n        const tempTotal = Number(item.price) * Number(item.hours)\r\n        return tempTotal\r\n    }).reduce((total, currentValue) => total + currentValue)\r\n    return tempArr\r\n}\r\n\r\nexport const getTotalCharged = (totalChargedBookings, creditApplied) => {\r\n    if (Number(totalChargedBookings) > (Number(creditApplied.promoApplied) + Number(creditApplied.etheraApplied))) {\r\n        const totalCharged = Number(totalChargedBookings) - (Number(creditApplied.promoApplied) + Number(creditApplied.etheraApplied))\r\n        return totalCharged\r\n    }\r\n    else {\r\n        return 0\r\n    }\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport { getDateFormat, fixNumber } from \"helpers/UtilsHelper\";\r\n\r\nconst TotalCharged = (props) => {\r\n  const { cancellations, totalCancellationBookings } = props;\r\n  return (\r\n    <>\r\n      {cancellations.length > 0 && (\r\n        <>\r\n          <tr>\r\n            <td colSpan=\"12\" />\r\n          </tr>\r\n          <tr>\r\n            <td className=\"text-left\" colSpan=\"11\">\r\n              <h3 className=\"text-danger\">\r\n                <b>Cancellations</b>\r\n              </h3>\r\n            </td>\r\n          </tr>\r\n          {cancellations.map((item, index) => {\r\n            const { bookingNumber, hours, cancelDate, price, space } = item;\r\n            const booking_number = bookingNumber || \"#########\";\r\n            const cancellation_date = getDateFormat(cancelDate);\r\n            const room = space.name;\r\n            const cancellationTotal = Number(price) * Number(hours);\r\n            return (\r\n              <tr className=\"custom-row__cancellation\" key={index}>\r\n                <td></td>\r\n                <td colSpan=\"4\">#{booking_number}</td>\r\n                <td> {cancellation_date}</td>\r\n                <td>{room}</td>\r\n                <td>${fixNumber(price)}</td>\r\n                <td colSpan=\"2\">{fixNumber(hours)}</td>\r\n                <td>${fixNumber(cancellationTotal)}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n          <tr className=\"custom-row__result\">\r\n            <td className=\"text-left text-primary\" colSpan=\"10\">\r\n              Total\r\n            </td>\r\n            <td>${fixNumber(totalCancellationBookings)}</td>\r\n          </tr>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TotalCharged;\r\n","import React from \"react\";\r\nimport { fixNumber } from \"helpers/UtilsHelper\";\r\n\r\nconst TotalCharged = (props) => {\r\n  const { totalHours, creditApplied, totalChargedBookings, totalCharged } =\r\n    props;\r\n\r\n  return (\r\n    <>\r\n      <tr className=\"custom-row__result\">\r\n        <td colSpan=\"9\">Total</td>\r\n        <td>{fixNumber(totalHours)}</td>\r\n        <td>${fixNumber(totalChargedBookings)}</td>\r\n      </tr>\r\n      <tr className=\"custom-row__result\">\r\n        <td colSpan=\"10\">Promo Credit</td>\r\n        <td>${fixNumber(creditApplied.promoApplied)}</td>\r\n      </tr>\r\n      <tr className=\"custom-row__result\">\r\n        <td colSpan=\"10\">Ethera Credit</td>\r\n        <td>${fixNumber(creditApplied.etheraApplied)}</td>\r\n      </tr>\r\n      <tr className=\"custom-row__result\">\r\n        <td colSpan=\"10\">Total Charged</td>\r\n        <td>${fixNumber(totalCharged)}</td>\r\n      </tr>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TotalCharged;\r\n","import React from 'react';\r\nimport { Card, Table, CardBody, } from \"reactstrap\";\r\nimport { fixNumber } from 'helpers/UtilsHelper'\r\n\r\nconst CreditBalance = (props) => {\r\n    const { openingCreditBalance, creditApplied, creditReceived, } = props\r\n    return (\r\n        <Card>\r\n            <CardBody>\r\n                <Table className=\"align-items-center\" id=\"credit-balance-table\" responsive>\r\n                    <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th className=\"text-center\" colSpan=\"2\"> <h2 className=\"text-success mt-2\">Credit Balance</h2> </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td> Opening Credit Balance</td>\r\n                            <td>${fixNumber(openingCreditBalance)}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td> Credit Applied</td>\r\n                            <td>${fixNumber(creditApplied.etheraApplied)}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td> Credit Received</td>\r\n                            <td>${fixNumber(creditReceived)}</td>\r\n                        </tr>\r\n                        <tr className=\"text-primary custom-row__result\">\r\n                            <td>Closing Credit Balance</td>\r\n                            <td>${fixNumber(Number(openingCreditBalance) - Number(creditApplied.etheraApplied) + Number(creditReceived))}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </CardBody>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default CreditBalance;","import React from \"react\";\r\nimport { getDateFormat, fixNumber, getTimeFull } from \"helpers/UtilsHelper\";\r\nimport cons from \"../../../../constants\";\r\nimport moment from \"moment\";\r\nconst ListDetail = (props) => {\r\n  const {\r\n    tier,\r\n    bookingNumber,\r\n    createdAt,\r\n    startDate,\r\n    hours,\r\n    totalHours,\r\n    cancelDate,\r\n    price,\r\n    space,\r\n    status,\r\n    startTime,\r\n  } = props.bookingData;\r\n\r\n  let reservationTime = moment(startTime, \"hh:mm:ssa\").format(\"hh:mma\");\r\n\r\n  const _bookingNumber = bookingNumber || \"#########\";\r\n  const _purchaseDate = getDateFormat(createdAt);\r\n  const _reservationDate = getDateFormat(startDate);\r\n  const _cancellationDate = getDateFormat(cancelDate);\r\n  const _room = space.name;\r\n  const isShowCanceled = status === cons.BOOKING_STATUS.CANCELED ? true : false;\r\n  return (\r\n    <tr className={`${isShowCanceled ? \"custom-row__cancellation\" : \"\"}`}>\r\n      <td>Tier: {tier}</td>\r\n      <td>#{_bookingNumber}</td>\r\n      <td>{_purchaseDate}</td>\r\n      <td>{_reservationDate}</td>\r\n      <td>{reservationTime}</td>\r\n      <td>{isShowCanceled ? _cancellationDate : \"\"}</td>\r\n      <td>{_room}</td>\r\n      <td>${fixNumber(price)}</td>\r\n      <td>{fixNumber(hours)}</td>\r\n      <td>{fixNumber(totalHours)}</td>\r\n      <td>${fixNumber(Number(price) * Number(hours))}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default ListDetail;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as moment from \"moment\";\r\nimport _ from \"lodash\";\r\nimport { useEffect } from \"react\";\r\nimport Loading from \"../../../../components/Loading\";\r\nimport {\r\n  Card,\r\n  Table,\r\n  Row,\r\n  Col,\r\n  CardHeader,\r\n  CardFooter,\r\n  Button,\r\n} from \"reactstrap\";\r\nimport { getInvoiceDetail } from \"../../../../redux/actions/billingAction\";\r\nimport { getDateFormat, getUserFullName, fixNumber } from \"helpers/UtilsHelper\";\r\nimport {\r\n  getCredit,\r\n  getTotalCharged,\r\n  getCancellationList,\r\n  getBookingList,\r\n} from \"helpers/BillingHelper\";\r\nimport { exportClientBillingPDF } from \"helpers/ExportHelper\";\r\n\r\nimport cons from \"../../../../constants\";\r\nimport Cancellations from \"./Cancellations\";\r\nimport TotalCharged from \"./TotalCharged\";\r\nimport CreditBalance from \"./CreditBalance\";\r\nimport ListDetail from \"./ListDetail\";\r\nimport \"./InvoiceDetail.scss\";\r\n\r\nexport default function InvoiceDetail(props) {\r\n  const dispatch = useDispatch();\r\n  const invoiceId = props.match.params.id;\r\n  const bookingInvoiceData = useSelector((state) => state.billing.detailData);\r\n  const loading = useSelector((state) => state.billing.loading);\r\n\r\n  useEffect(() => {\r\n    dispatch(getInvoiceDetail(invoiceId));\r\n  }, []);\r\n\r\n  const exportPDF = (totalCharged) => {\r\n    exportClientBillingPDF(\r\n      bookingInvoiceData,\r\n      totalCharged,\r\n      \"ethera-table\",\r\n      \"credit-balance-table\"\r\n    );\r\n  };\r\n\r\n  const fullName = getUserFullName(bookingInvoiceData.provider);\r\n\r\n  const startWeek = moment(\r\n    bookingInvoiceData.bookings && bookingInvoiceData.bookings[0].createdAt\r\n  ).startOf(\"week\");\r\n  const endWeek = moment(\r\n    bookingInvoiceData.bookings && bookingInvoiceData.bookings[0].createdAt\r\n  ).endOf(\"week\");\r\n\r\n  const bookingList = getBookingList(bookingInvoiceData.bookings);\r\n\r\n  const cancellationList = getCancellationList(bookingInvoiceData.bookings);\r\n\r\n  const totalChargedBookingArr =\r\n    bookingList.length > 0 &&\r\n    bookingList.map((item) => {\r\n      const tempTotal = Number(item.price) * Number(item.hours);\r\n      return tempTotal;\r\n    });\r\n  const totalCancellationBookingArr =\r\n    cancellationList.length > 0 &&\r\n    cancellationList.map((item) => {\r\n      const tempTotal = Number(item.price) * Number(item.hours);\r\n      return tempTotal;\r\n    });\r\n  const totalHours =\r\n    bookingList.length > 0 && bookingList[bookingList.length - 1].totalHours;\r\n  const totalChargedBookings =\r\n    totalChargedBookingArr &&\r\n    totalChargedBookingArr.reduce(\r\n      (total, currentValue) => total + currentValue\r\n    );\r\n  const totalCancellationBookings =\r\n    totalCancellationBookingArr &&\r\n    totalCancellationBookingArr.reduce(\r\n      (total, currentValue) => total + currentValue\r\n    );\r\n\r\n  const etheraCredit = _.get(\r\n    bookingInvoiceData && bookingInvoiceData.provider,\r\n    \"etheraCredit\",\r\n    0\r\n  );\r\n  const promoCredit = _.get(\r\n    bookingInvoiceData && bookingInvoiceData.provider,\r\n    \"promoCredit\",\r\n    0\r\n  );\r\n\r\n  const creditApplied =\r\n    _.isNull(totalChargedBookings) ||\r\n    _.isNull(promoCredit) ||\r\n    _.isNull(etheraCredit)\r\n      ? \"\"\r\n      : getCredit(\r\n          bookingInvoiceData,\r\n          totalChargedBookings,\r\n          promoCredit,\r\n          etheraCredit\r\n        );\r\n\r\n  const totalCharged =\r\n    _.isNull(totalChargedBookings) || _.isNull(creditApplied)\r\n      ? \"\"\r\n      : getTotalCharged(totalChargedBookings, creditApplied);\r\n\r\n  const creditReceived = totalCancellationBookings || 0;\r\n\r\n  const openingCreditBalance =\r\n    Number(bookingInvoiceData.status) === cons.BILLING_STATUS.PAID\r\n      ? bookingInvoiceData.providerOpenCredit\r\n      : etheraCredit;\r\n  return (\r\n    <>\r\n      {loading && <Loading />}\r\n      {bookingInvoiceData && (\r\n        <Col className=\"booking-invoice-detail\">\r\n          <Card className=\"mt-3\">\r\n            <CardHeader>\r\n              <Row className=\"d-flex\">\r\n                <Col\r\n                  md={6}\r\n                  xs={12}\r\n                  className=\"d-flex flex-column align-items-center\"\r\n                >\r\n                  <h2>\r\n                    <b className=\"text-primary\">EtheraPay</b>\r\n                  </h2>\r\n                  <small>Invoice: #{bookingInvoiceData.invoiceNumber}</small>\r\n                </Col>\r\n                <Col\r\n                  md={6}\r\n                  xs={12}\r\n                  className=\"d-flex flex-column align-items-center mt-3 mt-md-0\"\r\n                >\r\n                  <h2>\r\n                    <b className=\"text-info\">{fullName}</b>\r\n                  </h2>\r\n                  <small>\r\n                    {getDateFormat(startWeek, \"DD/MM/YYYY\")} -{\" \"}\r\n                    {getDateFormat(endWeek, \"DD/MM/YYYY\")}\r\n                  </small>\r\n                </Col>\r\n              </Row>\r\n            </CardHeader>\r\n            <Table\r\n              className=\"align-items-center table-sort\"\r\n              id=\"ethera-table\"\r\n              responsive\r\n            >\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th>\r\n                    {\" \"}\r\n                    {`Week of ${getDateFormat(\r\n                      startWeek,\r\n                      \"MM/DD\"\r\n                    )} - ${getDateFormat(endWeek, \"MM/DD\")} `}{\" \"}\r\n                  </th>\r\n                  <th> Booking Number </th>\r\n                  <th> Purchase Date</th>\r\n                  <th> Reservation Date </th>\r\n                  <th> Reservation Time </th>\r\n                  <th> Cancellation Date </th>\r\n                  <th> Room </th>\r\n                  <th> Rate </th>\r\n                  <th> Hours </th>\r\n                  <th> Total Hours </th>\r\n                  <th> Total </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"client\">\r\n                {bookingList.map((item, index) => {\r\n                  return <ListDetail key={index} bookingData={item} />;\r\n                })}\r\n                {bookingList.length > 0 && (\r\n                  <TotalCharged\r\n                    totalHours={totalHours}\r\n                    totalChargedBookings={totalChargedBookings}\r\n                    creditApplied={creditApplied}\r\n                    totalCharged={totalCharged}\r\n                  />\r\n                )}\r\n                <Cancellations\r\n                  cancellations={cancellationList}\r\n                  totalCancellationBookings={totalCancellationBookings}\r\n                />\r\n              </tbody>\r\n            </Table>\r\n            <CardFooter className=\"d-flex justify-content-center\">\r\n              <h2>\r\n                <b className=\"text-primary\">\r\n                  Total Amount Due: ${fixNumber(totalCharged)}\r\n                </b>\r\n              </h2>\r\n            </CardFooter>\r\n          </Card>\r\n          <Row>\r\n            <Col md={6}>\r\n              <CreditBalance\r\n                openingCreditBalance={openingCreditBalance}\r\n                creditApplied={creditApplied}\r\n                creditReceived={creditReceived}\r\n              />\r\n            </Col>\r\n            <Col md={6}>\r\n              {\" \"}\r\n              <Button\r\n                color=\"success\"\r\n                size=\"sm\"\r\n                onClick={() => exportPDF(totalCharged)}\r\n              >\r\n                Export PDF\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}