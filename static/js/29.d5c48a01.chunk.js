(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1011:function(e,a,t){"use strict";t.r(a);var r=t(2),n=t.n(r),l=t(7),c=t(5),s=t(53),o=t(30),i=t(31),m=t(33),d=t(32),u=t(34),p=t(0),b=t.n(p),h=t(45),E=t(536),N=t(554),f=t(538),g=t(556),v=t(568),j=t(539),y=t(266),O=t(560),C=t(562),S=t(563),k=t(555),_=t(583),P=t(44),x=t.n(P),w=t(40),F=t(48),T=t(104),A=t(193),M=t(22),R=t(190),D=t.n(R),B=(t(818),t(76)),L=t(625),V=t(651),q=t(596),I=t(18);function U(e){var a=Object(h.c)(),t=e.showSidebar,r=e.toggle,c=e.providerData,s=e.providerData.id,o=Object(p.useState)(0),i=Object(B.a)(o,2),m=i[0],d=i[1],u=Object(p.useState)(0),E=Object(B.a)(u,2),g=E[0],C=E[1],_=Object(p.useState)(!1),P=Object(B.a)(_,2),x=P[0],w=P[1],F=Object(p.useState)(!1),T=Object(B.a)(F,2),M=T[0],R=T[1],D=Object(p.useState)(!1),U=Object(B.a)(D,2),z=U[0],J=U[1],Y=Object(p.useState)(!1),$=Object(B.a)(Y,2),G=$[0],H=$[1],K=Object(p.useState)(0),Q=Object(B.a)(K,2),W=Q[0],X=Q[1],Z=Object(p.useState)(0),ee=Object(B.a)(Z,2),ae=ee[0],te=ee[1];Object(p.useEffect)(function(){X(c.etheraCredit),te(c.cancelationBalance)},[c]);var re=function(e){X("add"===e?Number(W)+Number(m):Number(W)-Number(m)),d(0),w(Number(W)+Number(m)<0)},ne=function(e){te("add"===e?Number(ae)+Number(g):Number(ae)-Number(g)),C(0)},le=function(){var e=Object(l.a)(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:x&&M&&z&&G||(t={etheraCredit:W,cancelationBalance:ae,id:s},a(Object(A.k)(t)));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"sidebar__wrapper wrapper"},b.a.createElement("div",{className:"sidebar ".concat(t?"sidebar-show":"sidebar-hide")},b.a.createElement("div",{className:"sidebar__main"},b.a.createElement("span",{className:t?"sidebar__icon":"d-none"},b.a.createElement(y.a,{onClick:r,className:"sidebar__icon",color:"link"},b.a.createElement("i",{className:"fas fa-arrow-right fa-lg"}))),b.a.createElement(N.a,null,b.a.createElement(v.a,{className:"sidebar__card__header text-center"},b.a.createElement(S.a,null," Ethera Balance ")),b.a.createElement(O.a,null,b.a.createElement(j.a,{className:"mb-2"},b.a.createElement(f.a,{className:"mb-2 justify-content-center"},b.a.createElement("h3",{className:"sidebar__card__title"}," EtheraCredit Balance: ",Object(I.b)(W),"$")),b.a.createElement(f.a,{className:"my-3 justify-content-center"},b.a.createElement(L.a,null,b.a.createElement(k.a,{type:"number",onChange:function(e){return a=e.target.value,Number(a)<0?J(!0):Number(a)>Number(W)?w(!0):(J(!1),w(!1)),void d(a);var a},value:m,max:1e8}),b.a.createElement(V.a,{addonType:"append"},b.a.createElement(q.a,null,b.a.createElement("i",{className:"fas fa-dollar-sign"}))))),b.a.createElement(f.a,{className:"my-2 justify-content-center text-center"},b.a.createElement(y.a,{color:"info",outline:!0,className:"customs-btn",onClick:function(){return re("add")},disabled:z},"Add"),b.a.createElement(y.a,{color:"danger",outline:!0,className:"customs-btn",onClick:function(){return re("remove")},disabled:x},"Remove"))))),b.a.createElement(N.a,null,b.a.createElement(v.a,{className:"sidebar__card__header text-center"},b.a.createElement(S.a,null," Cancellation Balance ")),b.a.createElement(O.a,null,b.a.createElement(j.a,{className:"mb-2"},b.a.createElement(f.a,{className:"mb-2 justify-content-center"},b.a.createElement("h3",{className:"sidebar__card__title"}," Cancellation Balance: ",ae," (time) ")),b.a.createElement(f.a,{className:"my-3 justify-content-center"},b.a.createElement(L.a,null,b.a.createElement(k.a,{type:"number",name:"cancelation",onChange:function(e){return a=e.target.value,Number(a)<0?H(!0):Number(ae)<Number(a)?R(!0):(H(!1),R(!1)),void C(a);var a},value:g}),b.a.createElement(V.a,{addonType:"append"},b.a.createElement(q.a,null,b.a.createElement("i",{className:"far fa-clock"}))))),b.a.createElement(f.a,{className:"my-2 justify-content-center"},b.a.createElement(y.a,{color:"info",outline:!0,className:"customs-btn",onClick:function(){return ne("add")},disabled:G},"Add"),b.a.createElement(y.a,{color:"danger",outline:!0,className:"customs-btn",onClick:function(){return ne("remove")},disabled:M},"Remove"))))),b.a.createElement(f.a,{className:"mt-4 justify-content-around"},b.a.createElement(y.a,{color:"secondary",className:"sidebar__card__btn",onClick:r},"Cancel"),b.a.createElement(y.a,{color:"success",className:"sidebar__card__btn",onClick:le},"Save"))))))}var z=t(125),J=M.c.PROVIDER_STATUS_INFO.map(function(e){return{status:e.status,id:Number(e.id)}}),Y=M.c.PROVIDER_TYPE.map(function(e){return{name:e.provider_type,isUsable:!1,id:e.id}}),$=function(){return{id:"",errors:{},isFormReady:{},isDeleteAccount:!1,isOpenSideBar:!1,statusList:J,avatar:null,isAddNewProvider:!1,firstName:"",lastName:"",phoneNumber:"",email:""}},G="This Field is required",H=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).handleChange=function(e){var a=e.target,r=a.name,n=a.value,l=t.props.addProviderAccountError;delete t.state.errors.nonFieldErrors,delete t.state.errors[r],l&&t.props.deleteError(r),t.setState(Object(s.a)({},r,n.trim(""))),"status"===r&&t.props.changeStatus(n)},t.handleFile=function(e){var a=e.target,r=a.name,n=a.files;n.length&&t.setState(Object(s.a)({},r,n[0]))},t.handleMultipleSelectProviderTypes=function(e,a){var r=e.target,n=r.id,l=r.checked;a.find(function(e){return e.id===Number(n)}).isUsable=l;var c=a.filter(function(e){return e.isUsable}).map(function(e){return Number(e.id)}).join(",");t.props.changeProviderTypes(c)},t.saveForm=function(){t.state.isAddNewProvider?t.addNewProvider():t.updateProviderAccount()},t.addNewProvider=function(){var e=t.state,a=e.firstName,r=e.lastName,n=e.phoneNumber,l=e.email,s=e.errors,o=e.isFormReady,i={firstName:a,lastName:r,phoneNumber:n,email:l},m={};for(var d in i)""===i[d]&&(m[d]=[G]),t.setState({errors:Object(c.a)({},s,m)});x.a.isEmpty(s)&&o.firstName&&o.lastName&&o.phoneNumber&&o.email&&t.props.addProviderAccount(i)},t.updateProviderAccount=Object(l.a)(n.a.mark(function e(){var a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.props.match.params.id,r=Object(c.a)({},t.state,{providerTypes:t.props.providerData.providerTypes,id:a}),(x.a.isString(r.avatar)||x.a.isNull(r.avatar))&&delete r.avatar,t.props.update(r);case 4:case"end":return e.stop()}},e)})),t.handleError=function(e,a){if(a){var r,n=!0;for(var l in t.state.isFormReady)l!==e&&"check"!==l&&(n=n&&t.state.isFormReady[l]);t.setState({isFormReady:Object(c.a)({},t.state.isFormReady,(r={},Object(s.a)(r,e,!0),Object(s.a)(r,"check",n),r))})}else{var o;t.setState({isFormReady:Object(c.a)({},t.state.isFormReady,(o={},Object(s.a)(o,e,!1),Object(s.a)(o,"check",!1),o))})}},t.toggleProfileDetailSideBar=function(){t.setState({isOpenSideBar:!t.state.isOpenSideBar})},t.state=$(),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;"create"===e?this.setState({isAddNewProvider:!0}):(this.props.getDetail(e),delete this.state.firstName,delete this.state.lastName,delete this.state.phoneNumber,delete this.state.email)}},{key:"render",value:function(){var e=this,a=this.props,t=a.providerData,r=a.isAddNewProviderSuccess,n=a.addProviderAccountError,l=t.status,s=t.providerTypes,o=t.avatar?t.avatar:D.a,i=s&&s.split(","),m=this.state,d=m.errors,u=m.isFormReady,p=m.firstName,h=m.lastName,P=m.email,A=m.statusList,M=m.avatar,R=m.isAddNewProvider,B=m.phoneNumber,L=(p&&P&&h&B&&u.check,Y.map(function(e){return Object(c.a)({},e,{isUsable:!!i&&i.includes(String(e.id))})}));return b.a.createElement(b.a.Fragment,null,r&&b.a.createElement(w.a,{to:"/admin/providers"}),b.a.createElement(U,{showSidebar:this.state.isOpenSideBar,toggle:this.toggleProfileDetailSideBar,providerData:t}),b.a.createElement(E.a,{className:"mt-6 d-flex justify-content-center align-items-center wrapper",fluid:!0},b.a.createElement(N.a,{className:"card-profile card-custom"},R?b.a.createElement(v.a,{className:"text-center"},b.a.createElement("h2",null,"Add new provider")):b.a.createElement(b.a.Fragment,null,b.a.createElement(f.a,{className:"align-items-center card-profile-image"},b.a.createElement("div",{onClick:function(){return e.openImageFile.click()}},b.a.createElement(g.a,{alt:"...",className:"rounded-circle custom-avatar avatar",src:x.a.isObject(M)?URL.createObjectURL(M):o}))),b.a.createElement(v.a,{className:"text-center border-0 pb-0"},b.a.createElement(f.a,{className:"justify-content-center mt-4"},b.a.createElement(j.a,null,b.a.createElement("input",{ref:function(a){return e.openImageFile=a},onChange:this.handleFile,className:"d-none",type:"file",name:"avatar",id:"roomImage",accept:".jpg,.gif,.jpeg,.png"}),b.a.createElement(y.a,{className:"mt-4 align-items-center",color:"link",onClick:function(){return e.openImageFile.click()}},"Change Image"),b.a.createElement("div",{className:"error-text mt-3"},d.image),b.a.createElement(y.a,{className:"btn-custom",onClick:this.toggleProfileDetailSideBar,color:"link",outline:!0},"Ethera Balance"))))),b.a.createElement(O.a,{className:"border-0 pb-0 wrapper__body"},b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"First Name",b.a.createElement("sup",{className:"text-required"},"*")),b.a.createElement(T.a,{type:"text",name:"firstName",handleError:this.handleError,errors:d.firstName,onChange:this.handleChange,required:!0,defaultValue:t.firstName||"",placeholder:"...",maxLength:30})),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"}," ","Last Name",b.a.createElement("sup",{className:"text-required"},"*")),b.a.createElement(T.a,{type:"text",name:"lastName",handleError:this.handleError,errors:d.lastName,onChange:this.handleChange,required:!0,defaultValue:t.lastName||"",placeholder:"...",maxLength:30})),!R&&b.a.createElement(b.a.Fragment,null,b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"City name "),b.a.createElement(T.a,{type:"text",name:"address",handleError:this.handleError,errors:d.address,onChange:this.handleChange,defaultValue:t.address||""})),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"Provider Type"),b.a.createElement(f.a,{className:"mx-0"},L.map(function(a,t){return b.a.createElement(j.a,{md:4,sm:6,key:t,className:"custom-control custom-checkbox text-left mb-3"},b.a.createElement(k.a,{className:"custom-control-input",id:a.id,type:"checkbox",name:a.name,checked:a.isUsable,onChange:function(a){return e.handleMultipleSelectProviderTypes(a,L)}}),b.a.createElement(S.a,{className:"custom-control-label",htmlFor:a.id},a.name))}))),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"Status"),b.a.createElement(k.a,{type:"select",onChange:this.handleChange,value:l,name:"status"},A.map(function(e,a){return b.a.createElement("option",{key:a,value:e.id},e.status)})))),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"Phone Number",b.a.createElement("sup",{className:"text-required"},"*")," "),b.a.createElement(T.a,{type:"phoneNumber",name:"phoneNumber",handleError:this.handleError,errors:d.phoneNumber,onChange:this.handleChange,regex:"phoneNumber",required:!0,defaultValue:t.phoneNumber,placeholder:"Type phone number",maxLength:15})),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"E-mail",b.a.createElement("sup",{className:"text-required"},"*")),b.a.createElement(T.a,{type:"email",name:"email",handleError:this.handleError,errors:d.email,onChange:this.handleChange,regex:"email",required:!0,defaultValue:t.email||"",placeholder:"Type email"})),!R&&b.a.createElement(b.a.Fragment,null,b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"Professional headline"),b.a.createElement(k.a,{type:"text",name:"headline",onChange:this.handleChange,defaultValue:t.headline||""})),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"}," ","Short biography"),b.a.createElement(k.a,{type:"text",name:"biography",onChange:this.handleChange,defaultValue:t.biography||""})),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"},"Specialties"),b.a.createElement(k.a,{type:"text",name:"specialties",onChange:this.handleChange,defaultValue:t.specialties||""})),b.a.createElement(C.a,null,b.a.createElement(S.a,{className:"form-control-label"}," ","Social media link"),b.a.createElement(k.a,{type:"text",name:"socialLinks",onChange:this.handleChange,defaultValue:t.socialLinks||""}))),b.a.createElement(z.a,{error:n,className:"mt-3"})),b.a.createElement(_.a,{className:"pb-md-4"},b.a.createElement(f.a,{className:"justify-content-around"},b.a.createElement(F.b,{to:"/admin/providers"}," ",b.a.createElement(y.a,{color:"danger",outline:!0}," ","CANCEL")),b.a.createElement(y.a,{color:"success",outline:!0,disabled:!1,onClick:this.saveForm}," ","Save Changes"," "))))))}}]),a}(p.Component),K={getDetail:A.g,addProviderAccount:A.a,update:A.k,changeProviderTypes:A.b,changeStatus:A.c,deleteError:A.e};a.default=Object(h.b)(function(e){return{providerData:e.provider.data,loading:e.provider.loading,isAddNewProviderSuccess:e.provider.isAddNewProviderSuccess,addProviderAccountError:e.provider.addProviderAccountError}},K)(H)},568:function(e,a,t){"use strict";var r=t(12),n=t(15),l=t(0),c=t.n(l),s=t(4),o=t.n(s),i=t(14),m=t.n(i),d=t(6),u={tag:d.p,className:o.a.string,cssModule:o.a.object},p=function(e){var a=e.className,t=e.cssModule,l=e.tag,s=Object(n.a)(e,["className","cssModule","tag"]),o=Object(d.l)(m()(a,"card-header"),t);return c.a.createElement(l,Object(r.a)({},s,{className:o}))};p.propTypes=u,p.defaultProps={tag:"div"},a.a=p},583:function(e,a,t){"use strict";var r=t(12),n=t(15),l=t(0),c=t.n(l),s=t(4),o=t.n(s),i=t(14),m=t.n(i),d=t(6),u={tag:d.p,className:o.a.string,cssModule:o.a.object},p=function(e){var a=e.className,t=e.cssModule,l=e.tag,s=Object(n.a)(e,["className","cssModule","tag"]),o=Object(d.l)(m()(a,"card-footer"),t);return c.a.createElement(l,Object(r.a)({},s,{className:o}))};p.propTypes=u,p.defaultProps={tag:"div"},a.a=p},596:function(e,a,t){"use strict";var r=t(12),n=t(15),l=t(0),c=t.n(l),s=t(4),o=t.n(s),i=t(14),m=t.n(i),d=t(6),u={tag:d.p,className:o.a.string,cssModule:o.a.object},p=function(e){var a=e.className,t=e.cssModule,l=e.tag,s=Object(n.a)(e,["className","cssModule","tag"]),o=Object(d.l)(m()(a,"input-group-text"),t);return c.a.createElement(l,Object(r.a)({},s,{className:o}))};p.propTypes=u,p.defaultProps={tag:"span"},a.a=p},625:function(e,a,t){"use strict";var r=t(12),n=t(15),l=t(0),c=t.n(l),s=t(4),o=t.n(s),i=t(14),m=t.n(i),d=t(6),u={tag:d.p,size:o.a.string,className:o.a.string,cssModule:o.a.object},p=function(e){var a=e.className,t=e.cssModule,l=e.tag,s=e.size,o=Object(n.a)(e,["className","cssModule","tag","size"]),i=Object(d.l)(m()(a,"input-group",s?"input-group-"+s:null),t);return c.a.createElement(l,Object(r.a)({},o,{className:i}))};p.propTypes=u,p.defaultProps={tag:"div"},a.a=p},651:function(e,a,t){"use strict";var r=t(12),n=t(15),l=t(0),c=t.n(l),s=t(4),o=t.n(s),i=t(14),m=t.n(i),d=t(6),u=t(596),p={tag:d.p,addonType:o.a.oneOf(["prepend","append"]).isRequired,children:o.a.node,className:o.a.string,cssModule:o.a.object},b=function(e){var a=e.className,t=e.cssModule,l=e.tag,s=e.addonType,o=e.children,i=Object(n.a)(e,["className","cssModule","tag","addonType","children"]),p=Object(d.l)(m()(a,"input-group-"+s),t);return"string"===typeof o?c.a.createElement(l,Object(r.a)({},i,{className:p}),c.a.createElement(u.a,{children:o})):c.a.createElement(l,Object(r.a)({},i,{className:p,children:o}))};b.propTypes=p,b.defaultProps={tag:"div"},a.a=b},818:function(e,a,t){}}]);
//# sourceMappingURL=29.d5c48a01.chunk.js.map