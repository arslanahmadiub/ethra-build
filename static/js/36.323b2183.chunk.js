(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{568:function(e,t,a){"use strict";var n=a(12),r=a(15),l=a(0),c=a.n(l),s=a(4),o=a.n(s),i=a(14),m=a.n(i),u=a(6),d={tag:u.p,className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,l=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),o=Object(u.l)(m()(t,"card-header"),a);return c.a.createElement(l,Object(n.a)({},s,{className:o}))};h.propTypes=d,h.defaultProps={tag:"div"},t.a=h},572:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(0),r=a.n(n),l=a(564),c=a(266);function s(e){var t=e.isOpen,a=e.toggle,n=e.handle,s=e.content,o=e.showTitle,i=void 0===o||o;return r.a.createElement(l.a,{className:"modal-dialog-centered",isOpen:t,toggle:a},r.a.createElement("div",{className:"modal-header"},i&&r.a.createElement("h6",{className:"modal-title",id:"modal-title-default"}," Confirm Delete!"),r.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:a},r.a.createElement("span",{"aria-hidden":!0},"\xd7"))),r.a.createElement("div",{className:"modal-body text-center"},r.a.createElement("b",null,s)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(c.a,{color:"danger",type:"button",onClick:n},"Yes"),r.a.createElement(c.a,{className:"ml-auto",color:"secondary","data-dismiss":"modal",type:"button",onClick:a},"Cancel")))}},583:function(e,t,a){"use strict";var n=a(12),r=a(15),l=a(0),c=a.n(l),s=a(4),o=a.n(s),i=a(14),m=a.n(i),u=a(6),d={tag:u.p,className:o.a.string,cssModule:o.a.object},h=function(e){var t=e.className,a=e.cssModule,l=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),o=Object(u.l)(m()(t,"card-footer"),a);return c.a.createElement(l,Object(n.a)({},s,{className:o}))};h.propTypes=d,h.defaultProps={tag:"div"},t.a=h},947:function(e,t,a){},982:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return _});var n=a(2),r=a.n(n),l=a(7),c=a(5),s=a(37),o=a(53),i=a(30),m=a(31),u=a(33),d=a(32),h=a(34),f=a(0),E=a.n(f),p=a(23),g=a.n(p),N=a(44),b=a.n(N),v=a(48),S=a(536),y=a(554),C=a(568),O=a(560),k=a(538),x=a(539),D=a(562),j=a(555),M=a(563),F=a(583),A=a(266),B=a(569),P=a.n(B),w=a(125),L=a(18),G=a(104),V=a(8),R=a(572),q=a(80),U=a(22),Y=(a(947),a(211)),I=U.c.SIGN_DOCUMENT.map(function(e,t){return{name:e,isUsable:!1,id:t}}),T=function(){return{isFormReady:{},clientData:[],us_state:[],errors:{},isDeleteAccount:!1,isGuardianFail:!1,isEditAccount:!0,isMinor:!1,dateOfBirth:null,lastName:null,address:null,relationshipStatus:U.c.RELATIONSHIP.SINGLE,employmentStatus:3,gender:0,race:0,status:0,documents:I,preferredLanguage:"en",signedDocument:"",preferredName:"",phoneNumber:"",middleName:"",firstName:"",guardian:"",suffix:"",email:"",note:"",state:"",startDate:"",keyPress:""}},_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getFormatPhone=function(e){return e&&"null"!==e&&"undefined"!==e?e.substring(0,3)+"-"+e.substring(3,6)+"-"+e.substring(6,e.length):""},a.getState=function(){Y.get("/location/states.json").then(function(e){a.setState({us_state:e.data})}).catch(function(e){console.log(e)})},a.handleChangeState=function(e,t){delete a.state.errors[t];var n=e.target.value;a.setState(Object(o.a)({},t,n))},a.handleChangeLocation=function(e,t){var n=e.target.value;a.setState(Object(o.a)({},t,n))},a.setDefaultState=function(e){var t=e.address,n=e.dateOfBirth,r=e.email,l=e.employmentStatus,c=e.firstName,s=e.gender,o=e.guardian,i=e.id,m=e.lastName,u=e.middleName,d=e.note,h=e.phoneNumber,f=e.preferredLanguage,E=e.preferredName,p=e.race,g=e.relationshipStatus,N=e.signedDocument,b=e.status,v=e.suffix,S=e.state,y=e.city,C=e.zipcode,O=e.firstSeenAt,k=new Date(n);Object(L.y)(k)<18?a.setState({isMinor:!0}):a.setState({isMinor:!1}),a.setState({address:t,dateOfBirth:n,email:r,employmentStatus:l,firstName:c,gender:s,guardian:o,id:i,lastName:m,middleName:u,note:d,phoneNumber:h,preferredLanguage:f,preferredName:E,race:p,relationshipStatus:g,signedDocument:N,status:b,suffix:v,state:S,city:y,zipcode:C,firstSeenAt:O})},a.convertSignDocument=function(e){if(e){var t=e.split(",");a.state.documents.forEach(function(e){t.includes(String(e.id))&&(e.isUsable=!0)})}},a.handleMultipleSelectDocument=function(e){var t=a.state.documents,n=e.target,r=n.name,l=n.checked;t[Number(r)].isUsable=l,a.setState({documents:t})},a.convertMultipleSelect=function(){var e=a.state.documents.filter(function(e){return e.isUsable}),t=Object(s.a)(e.map(function(e){return e.id})).join(",");a.setState({signedDocument:t})},a.handleError=function(e,t){var n,r=!0;if(t)for(var l in a.state.isFormReady)r=r&&a.state.isFormReady[l];a.setState({isFormReady:Object(c.a)({},a.state.isFormReady,(n={},Object(o.a)(n,e,t),Object(o.a)(n,"check",r&&t),n))})},a.handleCheckBox=function(e){var t=e.target,n=t.name,r=t.checked;"status"===n?!0===r?a.setState({status:0}):a.setState({status:1}):a.setState(Object(o.a)({},n,r))},a.getListClient=function(){q.a.list().then(function(e){a.setState({clientData:e.result})}).catch(function(e){console.error(e)})},a.validDate=function(e){var t=g()().subtract(0,"day");return e.isBefore(t)},a.setDates=function(e){delete a.state.errors.dateOfBirth,delete a.state.errors.guardian;var t=new Date(e),n=Object(L.y)(t);a.setState({dateOfBirth:e,guardian:""}),18>n?a.setState({isMinor:!0},function(){a.checkMinor()}):a.setState({isMinor:!1},function(){a.checkMinor()})},a.setStartDate=function(e){a.setState({startDate:e})},a.checkMinor=function(){var e=a.state,t=e.isMinor,n=e.guardian;t&&""===n?a.setState({isGuardianFail:!0}):a.setState({isGuardianFail:!1})},a.handleChange=function(){var e=Object(l.a)(r.a.mark(function e(t){var n,l,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,l=n.name,c=n.value,delete a.state.errors[l],delete a.state.errors.nonFieldErrors,("phoneNumber"!==l||12===a.state.phoneNumber.length)&&"Backspace"!==a.state.keyPress){e.next=13;break}return e.next=6,a.setState(Object(o.a)({},l,c));case 6:if("Backspace"===a.state.keyPress){e.next=13;break}if(3!==a.state.phoneNumber.length){e.next=10;break}return e.next=10,a.setState({phoneNumber:a.state.phoneNumber+"-"});case 10:if(7!==a.state.phoneNumber.length){e.next=13;break}return e.next=13,a.setState({phoneNumber:a.state.phoneNumber+"-"});case 13:"phoneNumber"!==l&&a.setState(Object(o.a)({},l,c)),"guardian"===l&&c?a.setState({isGuardianFail:!1}):"guardian"!==l||c||a.setState({isGuardianFail:!0});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleSelectionChange=function(e,t){var n=e.target.value;"preferredLanguage"===t?a.setState(Object(o.a)({},t,n)):a.setState(Object(o.a)({},t,Number(n)))},a.focusFirstError=function(){var e=document.querySelectorAll(".form__controller--error input")[0];e&&e.focus()},a.handleFile=function(e){var t=e.target,n=t.name,r=t.files;r.length&&a.setState(Object(o.a)({},n,r[0]))},a.saveForm=function(){var e=Object(l.a)(r.a.mark(function e(t){var n,l,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.convertMultipleSelect();case 2:n=a.state,l=n.isEditAccount,c=n.dateOfBirth,b.a.isNull(c)||b.a.isString(c)||a.setState({dateOfBirth:Object(L.f)(c)}),l?a.updateClient():a.registerClient();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.registerClient=Object(l.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.phoneNumber.replaceAll("-",""),delete(n=a.state).keyPress,n.phoneNumber=t,n.isMinor||delete n.guardian,e.next=7,q.a.create(n).then(function(e){V.b.success("Register Success"),a.props.history.push("/provider/clients")}).catch(function(e){var t=e.response.data;a.focusFirstError(t),a.setState({errors:t}),V.b.error("Register Fail")});case 7:case"end":return e.stop()}},e)})),a.updateClient=function(){var e=a.state.phoneNumber.replaceAll("-",""),t=a.state;delete t.keyPress,t.phoneNumber=e,delete t.firstSeenAt,!t.isMinor&&Object(L.y)(t.dateOfBirth)>18&&delete t.guardian,b.a.isNull(t.dateOfBirth)&&delete t.dateOfBirth,b.a.isNull(t.email)||delete t.email,q.a.update(t).then(function(e){V.b.success("Update Success"),a.setState({error:{}})}).catch(function(e){var t=e.response.data;a.focusFirstError(t),a.setState({errors:t}),V.b.error("Update Fail")})},a.deleteClientAccount=function(){var e=a.state.id;q.a.delete(e).then(function(){V.b.success("Delete Account success !"),a.props.history.push("/provider/clients")}).catch(function(e){var t=e.response.data;a.setState({errors:t}),V.b.error("Delete Account fail !")})},a.toggleConfirmDelete=function(){a.setState({isDeleteAccount:!a.state.isDeleteAccount})},a.getValue=function(e){return e&&"null"!==e&&"undefined"!==e&&e||""},a.state=T(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getListClient();var t=this.props.match.params.id;t?q.a.detail(t).then(function(t){e.convertSignDocument(t.signedDocument),e.setDefaultState(Object(c.a)({},t,{phoneNumber:e.getFormatPhone(t.phoneNumber)}))}).catch(function(e){console.error(e)}):this.setState({isEditAccount:!1}),this.getState()}},{key:"componentDidUpdate",value:function(){var e=this;document.addEventListener("keydown",function(t){e.state.keyPress!==t.key&&e.setState({keyPress:t.key})})}},{key:"render",value:function(){var e=this,t=this.state,a=this.state,n=a.errors,r=a.isMinor,l=a.clientData,c=a.documents,s=a.isEditAccount,o=a.isGuardianFail,i=a.guardian,m=a.status,u=a.firstName,d=a.us_state,h=(a.startDate,Object(L.x)(t)),f=0===m;return E.a.createElement(S.a,{className:"client-edit-screen mt-6"},E.a.createElement(y.a,{className:"mt-3"},E.a.createElement(R.a,{className:"modal-dialog-centered",isOpen:this.state.isDeleteAccount,toggle:this.toggleConfirmDelete,handle:this.deleteClientAccount,content:'Do you want to delete "'.concat(h,'" account?')}),E.a.createElement(C.a,{className:"text-center border-0 pb-0"},s&&E.a.createElement("div",{className:"font-weight-bold"},"Edit Client: ",h)),E.a.createElement(O.a,null,E.a.createElement(k.a,null,E.a.createElement(x.a,{md:12},E.a.createElement(D.a,{className:"custom-control custom-checkbox"},E.a.createElement(j.a,{className:"custom-control-input",id:"activeClient",type:"checkbox",checked:f,name:"status",onChange:this.handleCheckBox}),E.a.createElement(M.a,{className:"custom-control-label",htmlFor:"activeClient"},"Active Client"))),E.a.createElement(x.a,{md:12},E.a.createElement("h3",null,"Name")),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," ","First Name ",E.a.createElement("sup",{className:"text-required"},"*")),E.a.createElement(G.a,{type:"text",name:"firstName",handleError:this.handleError,errors:n.firstName,onChange:this.handleChange,required:!0,value:this.getValue(u)}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," Middle Name "),E.a.createElement(G.a,{type:"text",name:"middleName",handleError:this.handleError,errors:n.middleName,onChange:this.handleChange,value:this.getValue(t.middleName)}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," ","Last Name ",E.a.createElement("sup",{className:"text-required"},"*")),E.a.createElement(G.a,{type:"text",name:"lastName",handleError:this.handleError,errors:n.lastName,onChange:this.handleChange,required:!0,value:this.getValue(t.lastName)}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," Preferred name "),E.a.createElement(G.a,{type:"text",name:"preferredName",handleError:this.handleError,errors:n.preferredName,onChange:this.handleChange,value:this.getValue(t.preferredName)}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," Suffix "),E.a.createElement(G.a,{type:"text",name:"suffix",handleError:this.handleError,errors:n.suffix,onChange:this.handleChange,defaultValue:this.getValue(t.suffix)})))),E.a.createElement("hr",null),E.a.createElement(k.a,null,E.a.createElement(x.a,{md:12},E.a.createElement("h3",null,"Contact")),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," ","Email ",E.a.createElement("sup",{className:"text-required"},"*")),E.a.createElement(G.a,{type:"text",name:"email",handleError:this.handleError,errors:n.email,onChange:this.handleChange,required:!0,regex:"email",value:this.getValue(t.email),disabled:s}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,{className:"special-mobile-input"},E.a.createElement(M.a,{className:"form-control-label"}," ","Phone Number ",E.a.createElement("sup",{className:"text-required"},"*")," "),E.a.createElement(G.a,{type:"text",name:"phoneNumber",handleError:this.handleError,errors:n.phoneNumber,onChange:this.handleChange,regex:"phoneNumber",value:this.getValue(t.phoneNumber),autoFocus:!0,required:!0}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," Address "),E.a.createElement(G.a,{type:"text",name:"address",handleError:this.handleError,errors:n.address,onChange:this.handleChange,value:this.getValue(t.address)}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," City "),E.a.createElement(j.a,{type:"text",value:this.getValue(t.city),onChange:this.handleChange,name:"city"}))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," State "),E.a.createElement(j.a,{type:"select",value:t.state,onChange:function(t){return e.handleChangeState(t,"state")}},E.a.createElement("option",{value:""},"Select"),d&&d.map(function(e){return E.a.createElement("option",{key:e.code,value:e.code},e.name)})))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," Zip Code "),E.a.createElement(G.a,{type:"text",name:"zipcode",handleError:this.handleError,errors:n.zipcode,onChange:this.handleChange,value:this.getValue(t.zipcode)})))),E.a.createElement("hr",null),E.a.createElement(k.a,null,E.a.createElement(x.a,{md:12},E.a.createElement("h3",null,"Personal Information")),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"},"Date of Birth"),E.a.createElement(P.a,{isValidDate:this.validDate,timeFormat:!1,dateFormat:"MM/DD/YYYY",closeOnSelect:!0,inputProps:{placeholder:"".concat(t.dateOfBirth?Object(L.g)(t.dateOfBirth):"MM/DD/YYYY")},onChange:function(t){return e.setDates(t)}}),E.a.createElement("div",{className:" ".concat(t.dateOfBirth?"mt-3":"d-none")},E.a.createElement("small",null,Object(L.y)(t.dateOfBirth)," ",E.a.createElement("i",null,"years old"))),E.a.createElement(D.a,{className:r||i?"mt-2":"d-none"},E.a.createElement(M.a,{className:"form-control-label"},"Guardian ",E.a.createElement("sup",{className:"text-required"},"*")),E.a.createElement(j.a,{type:"select",onChange:this.handleChange,name:"guardian",value:t.guardian||""},E.a.createElement("option",{disabled:!0,value:""},"---select---"),l&&l.map(function(e,a){var n=Object(L.x)(e);return E.a.createElement("option",{key:a,value:e.id,className:e.id===t.id?"d-none":""},n)}))))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"},"Gender"),E.a.createElement(j.a,{type:"select",value:t.gender,onChange:function(t){return e.handleSelectionChange(t,"gender")}},U.c.GENDER.map(function(e,t){return E.a.createElement("option",{key:t,value:e.id},e.gender)})))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," ","Relationship Status"," "),E.a.createElement(j.a,{type:"select",value:t.relationshipStatus,onChange:function(t){return e.handleSelectionChange(t,"relationshipStatus")}},U.c.RELATIONSHIP_INFO.map(function(e,t){return E.a.createElement("option",{key:t,value:e.id},e.relationshipStatus)})))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," ","Preferred Language"," "),E.a.createElement(j.a,{type:"select",value:t.preferredLanguage,onChange:function(t){return e.handleSelectionChange(t,"preferredLanguage")}},U.c.LANGUAGE.map(function(e,t){return E.a.createElement("option",{key:t,value:e.code},e.preferredLanguage)})))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"}," Ethnicity "),E.a.createElement(j.a,{type:"select",value:t.race,onChange:function(t){return e.handleSelectionChange(t,"race")}},U.c.RACE.map(function(e,t){return E.a.createElement("option",{key:t,value:e.id},e.race)})))),E.a.createElement(x.a,{md:6},E.a.createElement(D.a,null,E.a.createElement(M.a,{className:"form-control-label"},"Employment Status"),E.a.createElement(j.a,{type:"select",value:t.employmentStatus,onChange:function(t){return e.handleSelectionChange(t,"employmentStatus")}},U.c.EMPLOYMENT.map(function(e,t){return E.a.createElement("option",{key:t,value:e.id},e.employmentStatus)})))),E.a.createElement(x.a,{md:8,className:"m-2"},E.a.createElement(M.a,{className:"form-control-label"}," Signed Documents "),c.map(function(t,a){return E.a.createElement(D.a,{className:"custom-checkbox ml-4",key:a},E.a.createElement(j.a,{className:"custom-control-input",id:t.name,type:"checkbox",name:a,checked:t.isUsable,onChange:e.handleMultipleSelectDocument}),E.a.createElement(M.a,{className:"custom-control-label",htmlFor:t.name},t.name))})),E.a.createElement(x.a,{md:12,className:s?"text-right":"d-none"},E.a.createElement(M.a,{className:"join-date"},"Date First Seen :"," ",Object(L.h)(t.firstSeenAt)||E.a.createElement("span",{className:"text-danger"},"N/A")))),E.a.createElement(w.a,{error:n,className:"mt-3"})),E.a.createElement(F.a,null,E.a.createElement(k.a,null,E.a.createElement(x.a,{md:12},E.a.createElement("li",{className:"text-danger mb-4 ".concat(o?"":"d-none")}," ","Please select Guardian")),E.a.createElement(x.a,{md:6,className:"mb-3 md-md-0 text-center text-md-left"},E.a.createElement(A.a,{color:"danger",onClick:this.toggleConfirmDelete,className:s?"":"d-none"}," ","Delete Account"," ")),E.a.createElement(x.a,{md:6,className:"mb-3 md-md-0"},E.a.createElement(k.a,{className:"justify-content-md-end justify-content-center"},E.a.createElement(v.b,{to:"/provider/clients/".concat(t.id),className:"d-block"},E.a.createElement(A.a,{color:"danger",outline:!0},"Cancel")),E.a.createElement(A.a,{className:"ml-2",color:"success",onClick:this.saveForm,disabled:o},"Save")))))))}}]),t}(f.Component)}}]);
//# sourceMappingURL=36.323b2183.chunk.js.map