(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{568:function(e,t,a){"use strict";var n=a(12),l=a(15),r=a(0),c=a.n(r),o=a(4),s=a.n(o),u=a(14),i=a.n(u),d=a(6),m={tag:d.p,className:s.a.string,cssModule:s.a.object},b=function(e){var t=e.className,a=e.cssModule,r=e.tag,o=Object(l.a)(e,["className","cssModule","tag"]),s=Object(d.l)(i()(t,"card-header"),a);return c.a.createElement(r,Object(n.a)({},o,{className:s}))};b.propTypes=m,b.defaultProps={tag:"div"},t.a=b},572:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(0),l=a.n(n),r=a(564),c=a(266);function o(e){var t=e.isOpen,a=e.toggle,n=e.handle,o=e.content,s=e.showTitle,u=void 0===s||s;return l.a.createElement(r.a,{className:"modal-dialog-centered",isOpen:t,toggle:a},l.a.createElement("div",{className:"modal-header"},u&&l.a.createElement("h6",{className:"modal-title",id:"modal-title-default"}," Confirm Delete!"),l.a.createElement("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:a},l.a.createElement("span",{"aria-hidden":!0},"\xd7"))),l.a.createElement("div",{className:"modal-body text-center"},l.a.createElement("b",null,o)),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(c.a,{color:"danger",type:"button",onClick:n},"Yes"),l.a.createElement(c.a,{className:"ml-auto",color:"secondary","data-dismiss":"modal",type:"button",onClick:a},"Cancel")))}},597:function(e,t,a){"use strict";var n=a(12),l=a(15),r=a(0),c=a.n(r),o=a(4),s=a.n(o),u=a(14),i=a.n(u),d=a(6),m={className:s.a.string,cssModule:s.a.object,size:s.a.string,bordered:s.a.bool,borderless:s.a.bool,striped:s.a.bool,dark:s.a.bool,hover:s.a.bool,responsive:s.a.oneOfType([s.a.bool,s.a.string]),tag:d.p,responsiveTag:d.p,innerRef:s.a.oneOfType([s.a.func,s.a.string,s.a.object])},b=function(e){var t=e.className,a=e.cssModule,r=e.size,o=e.bordered,s=e.borderless,u=e.striped,m=e.dark,b=e.hover,v=e.responsive,E=e.tag,f=e.responsiveTag,g=e.innerRef,p=Object(l.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),O=Object(d.l)(i()(t,"table",!!r&&"table-"+r,!!o&&"table-bordered",!!s&&"table-borderless",!!u&&"table-striped",!!m&&"table-dark",!!b&&"table-hover"),a),j=c.a.createElement(E,Object(n.a)({},p,{ref:g,className:O}));if(v){var h=Object(d.l)(!0===v?"table-responsive":"table-responsive-"+v,a);return c.a.createElement(f,{className:h},j)}return j};b.propTypes=m,b.defaultProps={tag:"table",responsiveTag:"div"},t.a=b},855:function(e,t,a){},856:function(e,t,a){},992:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(536),c=a(554),o=a(568),s=a(560),u=a(45),i=a(76),d=a(538),m=a(539),b=a(597);var v=function(e){var t=e.value,a=e.onChange,r=e.id,c=e.defaultFirst,o=Object(u.d)(function(e){return e.venues.data.result});return Object(n.useEffect)(function(){c&&o&&o.length>0&&""===t&&a(o[0].id)},[o]),l.a.createElement("select",{id:r,value:t,onChange:function(e){return a(e.target.value)}},(!o||0===o.length)&&l.a.createElement("option",{value:"",disabled:!0},"-- No venues found --"),o&&o.length>0&&l.a.createElement(l.a.Fragment,null,!c&&l.a.createElement("option",{value:"",disabled:!0},"-- Select venue --"),o.map(function(e){return l.a.createElement("option",{value:e.id,key:e.id},e.name)})))},E=(a(855),a(112)),f=a(5),g=a(266);function p(e){var t=e.onChange,a=e.element,n=e.value;switch(e.type){case"text":return l.a.createElement("input",{value:n,onChange:function(e){return t&&t(e.target.value)}});case"element":return a;default:return null}}var O=function(e){var t=e.isEditing,a=e.value,n=e.defaultValue,r=void 0!==n?n:a;return l.a.createElement("td",null,!t&&l.a.createElement("span",{title:r.length>50?r:""},r.length>50?r.slice(0,50)+"...":r),t&&l.a.createElement(p,e))};var j=function(e){var t=e.row,a=e.venues,r=e.isEditing,c=e.onEdit,o=e.onDelete,s=Object(u.c)();Object(n.useEffect)(function(){r&&c({})},[t]);var d=Object(n.useState)(Object(f.a)({},t)),m=Object(i.a)(d,2),b=m[0],p=m[1],j=function(e,t){if("id"!==e){var a=Object(f.a)({},b);a[e]=t,p(a)}};return l.a.createElement("tr",null,l.a.createElement(O,{value:b.name,defaultValue:t.name,type:"text",isEditing:r,onChange:function(e){return j("name",e)}}),l.a.createElement(O,{defaultValue:a[t.venue],type:"element",element:l.a.createElement(v,{id:"venues-table-dropdown",value:b.venue,onChange:function(e){return j("venue",e)},defaultFirst:!0}),isEditing:r}),l.a.createElement(O,{value:b.token,defaultValue:t.token,type:"text",isEditing:r,onChange:function(e){return j("token",e)}}),l.a.createElement("td",null,r?l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{size:"sm",color:"primary",onClick:function(){var e=Object(f.a)({},b);e.currentVenueId=t.venue,s(Object(E.g)(e))}},"Save"),l.a.createElement(g.a,{size:"sm",color:"danger",onClick:function(){p(Object(f.a)({},t)),c({})}},"Cancel")):l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{size:"sm",color:"warning",onClick:function(){s(Object(E.f)(t.venue,t.id))}},"Test lock"),l.a.createElement(g.a,{size:"sm",color:"success",onClick:function(){return c(t)}},"Edit"),l.a.createElement(g.a,{size:"sm",color:"danger",onClick:function(){return o(t)}},"Delete"))))},h=a(572);var k=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(u.c)(),o=Object(u.d)(function(e){return e.locks.data.result}),s=Object(u.d)(function(e){return e.venues.data.result}),f={};if(s){var g=!0,p=!1,O=void 0;try{for(var k,N=s[Symbol.iterator]();!(g=(k=N.next()).done);g=!0){var C=k.value;f[C.id]=C.name}}catch(L){p=!0,O=L}finally{try{g||null==N.return||N.return()}finally{if(p)throw O}}}Object(n.useEffect)(function(){a&&c(Object(E.d)(a))},[a]);var y=Object(n.useState)(void 0),w=Object(i.a)(y,2),T=w[0],S=w[1],F=function(e){return S(e.id)},z=Object(n.useState)(!1),V=Object(i.a)(z,2),M=V[0],x=V[1],D=Object(n.useState)({}),A=Object(i.a)(D,2),R=A[0],J=A[1],P=function(){return x(!M)},I=function(e){J(e),x(!0)};return l.a.createElement(d.a,{className:"locks-table"},l.a.createElement(m.a,{sm:12},l.a.createElement("h5",null,"Current locks"),l.a.createElement("div",{className:"venues"},l.a.createElement(v,{id:"venues-table-dropdown",value:a,onChange:r,defaultFirst:!0}),l.a.createElement(b.a,{className:"align-items-start table-sort locks-table-content",responsive:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:""},"Name"),l.a.createElement("th",{className:""},"Venue name"),l.a.createElement("th",{className:""},"Token"),l.a.createElement("th",{className:""},"Actions"))),l.a.createElement("tbody",null,o&&o.map(function(e){return l.a.createElement(j,{row:e,venues:f,key:e.id,isEditing:T===e.id,onEdit:F,onDelete:I})}),o&&0===o.length&&l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"4"},"No locks registered"))))),l.a.createElement(h.a,{className:"modal-dialog-centered",isOpen:M,toggle:P,handle:function(){P(),c(Object(E.c)(R))},content:'Do you want to delete the lock "('.concat(R.name,')"?')})))},N=a(561),C=a(563),y=a(555);a(856);var w=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],d=o[1],b=Object(n.useState)(""),f=Object(i.a)(b,2),p=f[0],O=f[1],j=Object(u.c)();return l.a.createElement(N.a,null,l.a.createElement("fieldset",{className:"row add-lock-form"},l.a.createElement("legend",null,"Add new Lock"),l.a.createElement(m.a,{sm:2},l.a.createElement(C.a,{htmlFor:"lock-name"},"Name"),l.a.createElement(y.a,{id:"lock-name",value:s,onChange:function(e){return d(e.target.value)}})),l.a.createElement(m.a,{sm:3},l.a.createElement(C.a,{htmlFor:"add-lock-venue"},"Venue"),l.a.createElement(v,{id:"add-lock-venue",value:a,onChange:r,defaultFirst:!0})),l.a.createElement(m.a,{sm:4},l.a.createElement(C.a,{htmlFor:"lock-token"},"Cloud Token"),l.a.createElement(y.a,{id:"lock-token",value:p,onChange:function(e){return O(e.target.value)}})),l.a.createElement(m.a,{sm:3},l.a.createElement("div",null,"\xa0"),l.a.createElement(g.a,{onClick:function(){a&&p&&j(Object(E.e)(a,p))},color:"primary",disabled:!a||!p},"Test lock"),l.a.createElement(g.a,{onClick:function(){s&&a&&p&&j(Object(E.a)({name:s,venue:a,token:p}))},color:"success",disabled:!s||!a||!p},"Add"))))},T=a(99);t.default=function(){var e=Object(u.c)(),t=Object(u.d)(function(e){return e.venues.data.result}),a=Object(u.d)(function(e){return e.venues.locks});return Object(n.useEffect)(function(){e(Object(T.b)())},[]),l.a.createElement(r.a,{className:"ethera-access"},l.a.createElement(c.a,null,l.a.createElement(o.a,null,l.a.createElement("h2",null,"Ethera Access")),l.a.createElement(s.a,null,l.a.createElement(w,{venues:t}),l.a.createElement(k,{data:a,venues:t}))))}}}]);
//# sourceMappingURL=25.89743c5b.chunk.js.map