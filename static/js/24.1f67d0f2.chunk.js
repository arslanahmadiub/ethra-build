(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1001:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(536),l=t(554),s=t(568),o=t(560),i=t(2),u=t.n(i),m=t(7),d=t(76),f=t(8),p=t(539),b=t(266),E=t(564),v=t(640),h=t(542),g=t(543),C=t(810),j=t.n(C),x=t(811),O=t.n(x),w=t(812),k=t.n(w),N=t(142),y=t(538),S=t(208),A=t(963),F=t.n(A),T=function(e,a){return{style:{base:{fontSize:e,color:"#424770",letterSpacing:"0.025em",fontFamily:"Source Code Pro, monospace","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}},z=Object(S.injectStripe)(function(e){var a=Object(n.useState)(!1),t=Object(d.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(!1),o=Object(d.a)(s,2),i=o[0],f=o[1],E=Object(n.useState)(F.a),v=Object(d.a)(E,2),h=v[0],g=v[1],C=function(){var a=Object(m.a)(u.a.mark(function a(t){var n;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),!e.stripe){a.next=11;break}return l(!0),a.next=5,e.stripe.createToken();case 5:return n=a.sent,a.next=8,e.onSubmit(n);case 8:l(!1),a.next=12;break;case 11:console.log("Stripe.js hasn't loaded yet.");case 12:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:C,className:"card-form"},r.a.createElement("div",null,r.a.createElement("div",{className:"card-number-head d-flex justify-content-between"},r.a.createElement("b",null,"Card Number",r.a.createElement("sup",{className:"text-required"},"*")),r.a.createElement("img",{alt:"card type",src:h})),r.a.createElement(S.CardNumberElement,Object.assign({onChange:function(e){switch(e.brand){case"visa":g(j.a);break;case"amex":g(O.a);break;case"mastercard":g(k.a);break;default:g(F.a)}}},T(e.fontSize)))),r.a.createElement(y.a,null,r.a.createElement(p.a,{md:6},r.a.createElement("b",null,"Exp Date",r.a.createElement("sup",{className:"text-required"},"*")),r.a.createElement(S.CardExpiryElement,T(e.fontSize))),r.a.createElement(p.a,{md:6},r.a.createElement("b",null,"CVC",r.a.createElement("sup",{className:"text-required"},"*")),r.a.createElement(S.CardCVCElement,T(e.fontSize)))),r.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},r.a.createElement("input",{className:"custom-control-input",id:"accept-save",type:"checkbox",onChange:function(e){return f(e.target.checked)}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"accept-save"},"Save payment information.")),r.a.createElement("div",null,r.a.createElement(b.a,{color:"info",disabled:c||!i},r.a.createElement("i",{className:"fas fa-circle-notch fa-spin",hidden:!c})," Add"))))}),D=function(e){var a=Object(n.useState)(window.innerWidth<450?"14px":"18px"),t=Object(d.a)(a,2),c=t[0],l=t[1];return Object(n.useEffect)(function(){var e=window.addEventListener("resize",function(){window.innerWidth<450&&"14px"!==c?l("14px"):window.innerWidth>=450&&"18px"!==c&&l("18px")});return function(){window.removeEventListener("resize",e)}},[c]),r.a.createElement(S.Elements,null,r.a.createElement(z,Object.assign({},e,{fontSize:c})))},L=function(e){var a=e.cards,t=e.defaultCard,c=e.onCardSelect,l=e.onDelete,s=e.setShowAdd,o=Object(n.useState)(!1),i=Object(d.a)(o,2),f=i[0],C=i[1],j=Object(n.useState)(null),x=Object(d.a)(j,2),O=x[0],w=x[1],k=Object(n.useState)(!1),N=Object(d.a)(k,2),y=N[0],S=N[1];function A(){return(A=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,l(O);case 4:C(!1),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.prev=9,S(!1),e.finish(9);case 12:case"end":return e.stop()}},e,null,[[1,7,9,12]])}))).apply(this,arguments)}var F,T=a.find(function(e){return e.id===O});return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",{className:"row",key:e.id},r.a.createElement(p.a,{md:"9"},r.a.createElement(M,{card:e,defaultCard:t,onChange:c})),r.a.createElement(p.a,{md:"3",className:"text-right"},r.a.createElement(b.a,{color:"link",className:"p-0",onClick:function(a){return t=e.id,C(!0),void w(t);var t}},"Remove")))}),r.a.createElement("li",{className:"row"},r.a.createElement(p.a,null,r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{id:"new-card-id",className:"custom-control-input",type:"radio",name:"card",onClick:function(e){return s(!0)}}),r.a.createElement("label",{htmlFor:"new-card-id",className:"custom-control-label",onClick:function(e){return s(!0)}},"Add payment method"))))),r.a.createElement(E.a,{color:"danger",isOpen:f,toggle:function(){return C(!f)}},r.a.createElement(v.a,null,"Confirmation"),r.a.createElement(h.a,null,r.a.createElement("h4",null,"Are you sure you want to delete this card?"),r.a.createElement("b",null,(F=T)?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,F.brand)," ending in ",F.last4," (expires ",F.expMonth,"/",F.expYear,")"):"")),r.a.createElement(g.a,null,r.a.createElement(b.a,{color:"link",onClick:function(e){return C(!1)}},"Cancel"),r.a.createElement(b.a,{color:"danger",onClick:function(){return A.apply(this,arguments)},disabled:y},y&&r.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})," Delete"))))},M=function(e){var a=e.card,t=e.defaultCard,c=e.onChange,l=Object(n.useRef)();if(!a)return"";Object(n.useEffect)(function(){a.id===t&&(l.current.checked=!0)},[a,t]);return r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:"custom-control-input",type:"radio",name:"card",id:a.id,value:a.id,onChange:function(e){e.target.value&&c(a.id)},ref:l}),r.a.createElement("label",{htmlFor:a.id,className:"custom-control-label"},P(a)))},P=function(e){return e?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.brand)," ending in ",e.last4," (expires ",e.expMonth,"/",e.expYear,")"):""},R=function(e){var a=Object(n.useState)([]),t=Object(d.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),i=o[0],p=o[1],b=Object(n.useState)(!1),E=Object(d.a)(b,2),v=E[0],h=E[1];Object(n.useEffect)(function(){g()},[]);var g=function(){N.a.getCustomer().then(function(e){p(e.defaultSource),l(e.sources.data||[])})},C=function(){var e=Object(m.a)(u.a.mark(function e(a){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.updateDefaultCard(a);case 3:t=e.sent,f.b.success("Update default card success!"),h(!1),p(t.defaultSource),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f.b.error("Update default card fail!");case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(a){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(u.a.mark(function e(a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.deleteCard(a);case 3:f.b.success("Delete card success!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f.b.error("Delete card fail!");case 9:g();case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(a){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(u.a.mark(function e(a){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.error){e.next=4;break}f.b.error(a.error.message),e.next=6;break;case 4:return t=a.token.id,e.abrupt("return",N.a.addCard(t).then(function(e){h(!1),f.b.success("Add card success!"),g()}).catch(function(e){f.b.error("Add card fail!")}));case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card-list"},r.a.createElement("div",{className:"d-flex justify-content-between mb-4"},r.a.createElement("div",null,"Credit Card"),r.a.createElement("div",null,r.a.createElement("img",{alt:"amex",className:"card-logo",src:O.a}),r.a.createElement("img",{alt:"visa",className:"card-logo ml-1",src:j.a}),r.a.createElement("img",{alt:"mastercard",className:"card-logo ml-1",src:k.a}))),r.a.createElement("div",{className:"mb-2"},"Pay with your credit card via Stripe."),r.a.createElement(L,{cards:c,defaultCard:i,onCardSelect:C,onDelete:x,setShowAdd:h}),v&&r.a.createElement(D,{onSubmit:w,onCancel:function(){return h(!1)}}))},q=t(85),I=function(e){var a=Object(n.useState)(null),t=Object(d.a)(a,2),c=t[0],l=t[1],s=Object(n.useState)(!1),o=Object(d.a)(s,2),i=o[0],p=o[1],C=Object(n.useState)(!1),j=Object(d.a)(C,2),x=j[0],O=j[1];Object(n.useEffect)(function(){w()},[]);var w=function(){var e=Object(m.a)(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.connectInfo();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:a=e.t0,l(a.id);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(u.a.mark(function e(a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,N.a.disconnectAccount();case 4:p(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),f.b.error("Can not disconnect!");case 10:return e.prev=10,O(!1),w(),e.finish(10);case 14:case"end":return e.stop()}},e,null,[[1,7,10,14]])}));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You already linked with Stripe account: ",r.a.createElement("b",null,c)),r.a.createElement(b.a,{color:"link",className:"pl-0",onClick:function(e){return p(!0)}},"Remove Stripe Connect")):r.a.createElement(b.a,{color:"info",onClick:function(e){var a=window.open(q.a.STRIPE_CONNECT_URL,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,top=200,left=200,width=800,height=500"),t=setInterval(function(){a.closed&&(w(),clearInterval(t))},500)}},"Link Stripe Connect"),r.a.createElement(E.a,{color:"danger",isOpen:i,toggle:function(){return p(!i)}},r.a.createElement(v.a,null,"Confirmation"),r.a.createElement(h.a,null,r.a.createElement("h4",null,"Are you sure you want to remove Stripe Connect?")),r.a.createElement(g.a,null,r.a.createElement(b.a,{color:"link",onClick:function(e){return p(!1)}},"Cancel"),r.a.createElement(b.a,{color:"danger",onClick:k,disabled:x},x&&r.a.createElement("i",{className:"fas fa-circle-notch fa-spin"})," Remove"))))};t(964),a.default=function(e){return r.a.createElement(c.a,{className:"my-billing"},r.a.createElement(l.a,{className:"mt-3"},r.a.createElement(s.a,{className:"text-center"},r.a.createElement("h2",null,"EtheraPay Billing")),r.a.createElement(o.a,null,r.a.createElement(R,null))),r.a.createElement(l.a,null,r.a.createElement(s.a,{className:"text-center"},r.a.createElement("h2",null,"Client Billing with Stripe Connect"),r.a.createElement("p",null,"Please email ",r.a.createElement("a",{href:"mailto:support@myethera.com"},"support@myethera.com")," if you have questions about setting up/linking your Stripe Connect account")),r.a.createElement(o.a,null,r.a.createElement(I,null))))}},568:function(e,a,t){"use strict";var n=t(12),r=t(15),c=t(0),l=t.n(c),s=t(4),o=t.n(s),i=t(14),u=t.n(i),m=t(6),d={tag:m.p,className:o.a.string,cssModule:o.a.object},f=function(e){var a=e.className,t=e.cssModule,c=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),o=Object(m.l)(u()(a,"card-header"),t);return l.a.createElement(c,Object(n.a)({},s,{className:o}))};f.propTypes=d,f.defaultProps={tag:"div"},a.a=f},640:function(e,a,t){"use strict";var n=t(12),r=t(15),c=t(0),l=t.n(c),s=t(4),o=t.n(s),i=t(14),u=t.n(i),m=t(6),d={tag:m.p,wrapTag:m.p,toggle:o.a.func,className:o.a.string,cssModule:o.a.object,children:o.a.node,closeAriaLabel:o.a.string,charCode:o.a.oneOfType([o.a.string,o.a.number]),close:o.a.object},f=function(e){var a,t=e.className,c=e.cssModule,s=e.children,o=e.toggle,i=e.tag,d=e.wrapTag,f=e.closeAriaLabel,p=e.charCode,b=e.close,E=Object(r.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),v=Object(m.l)(u()(t,"modal-header"),c);if(!b&&o){var h="number"===typeof p?String.fromCharCode(p):p;a=l.a.createElement("button",{type:"button",onClick:o,className:Object(m.l)("close",c),"aria-label":f},l.a.createElement("span",{"aria-hidden":"true"},h))}return l.a.createElement(d,Object(n.a)({},E,{className:v}),l.a.createElement(i,{className:Object(m.l)("modal-title",c)},s),b||a)};f.propTypes=d,f.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215},a.a=f},810:function(e,a,t){e.exports=t.p+"static/media/visa.bca381c0.svg"},811:function(e,a,t){e.exports=t.p+"static/media/amex.4d5c06d0.svg"},812:function(e,a,t){e.exports=t.p+"static/media/mastercard.04088ba3.svg"},963:function(e,a,t){e.exports=t.p+"static/media/security-code.feecd506.svg"},964:function(e,a,t){}}]);
//# sourceMappingURL=24.1f67d0f2.chunk.js.map