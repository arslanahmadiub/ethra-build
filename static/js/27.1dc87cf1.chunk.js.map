{"version":3,"sources":["../node_modules/reactstrap/es/CardHeader.js","../node_modules/reactstrap/es/CardFooter.js","../node_modules/reactstrap/es/Table.js","helpers/ExportHelper.js","helpers/BillingHelper.js","pages/provider/Billing/BookingInvoiceDetail/Cancellations.jsx","pages/provider/Billing/BookingInvoiceDetail/TotalCharged.jsx","pages/provider/Billing/BookingInvoiceDetail/CreditBalance.jsx","pages/provider/Billing/BookingInvoiceDetail/ListDetail.jsx","pages/provider/Billing/BookingInvoiceDetail/InvoiceDetail.jsx"],"names":["_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","tag","className","a","string","cssModule","object","CardHeader","props","Tag","attributes","Object","classes","createElement","defaultProps","__webpack_exports__","CardFooter","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","responsiveTag","innerRef","func","Table","ResponsiveTag","table","ref","responsiveClassName","exportClientInvoicePDF","firstTableId","secondTableId","doc","jsPDF","highLight","fillColor","textColor","fontStyle","pageSize","internal","pageWidth","width","getWidth","text","autoTable","html","concat","startY","didParseCell","data","row","index","cell","styles","C_Users_Arslan_Documents_ethera_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","save","String","moment","valueOf","exportClientBillingPDF","totalCharged","fullName","getUserFullName","provider","startWeek","bookings","createdAt","startOf","endWeek","endOf","cancellation","INVOICE_NUMBER","invoiceNumber","PROVIDER_NAME","DURATION","getDateFormat","TOTAL_AMOUNT_DUE","rows","body","length","section","raw","includes","previous","finalY","pageBreak","getBookingList","bookingList","result","forEach","booking","i","prices","price","prevHours","totalHours","Number","hours","push","getCancellationList","status","cons","BOOKING_STATUS","CANCELED","getCredit","bookingInvoiceData","totalChargedBookings","promoCredit","etheraCredit","totalCredit","BILLING_STATUS","PAID","promoApplied","appliedPromoCredit","etheraApplied","appliedEtheraCredit","getTotalChargedBooking","listData","map","item","reduce","total","currentValue","getTotalCharged","creditApplied","TotalCharged","cancellations","totalCancellationBookings","react_default","Fragment","colSpan","bookingNumber","cancelDate","space","booking_number","cancellation_date","room","name","cancellationTotal","key","fixNumber","CreditBalance","openingCreditBalance","creditReceived","Card","CardBody","id","ListDetail","_props$bookingData","bookingData","tier","startDate","_bookingNumber","_purchaseDate","_reservationDate","_cancellationDate","_room","_total","isShowCanceled","today","InvoiceDetail","dispatch","useDispatch","_useState","useState","_useState2","slicedToArray","isPreviewInvoice","setPreviewInvoice","invoiceId","match","params","bookingInvoiceDetail","useSelector","state","billing","detailData","loading","navBars","useEffect","getInvoiceDetail","cancellationList","_","get","isNull","providerOpenCredit","Loading","Col","Row","md","xs","react_router_dom","to","Button","color","BookingInvoiceDetail_ListDetail","BookingInvoiceDetail_TotalCharged","Cancellations","BookingInvoiceDetail_CreditBalance","onClick","exportPDF"],"mappings":"2FAAA,IAAAA,EAAAC,EAAA,IAAAC,EAAAD,EAAA,IAAAE,EAAAF,EAAA,GAAAG,EAAAH,EAAAI,EAAAF,GAAAG,EAAAL,EAAA,GAAAM,EAAAN,EAAAI,EAAAC,GAAAE,EAAAP,EAAA,IAAAQ,EAAAR,EAAAI,EAAAG,GAAAE,EAAAT,EAAA,GAMAU,EAAA,CACAC,IAAOF,EAAA,EACPG,UAAaN,EAAAO,EAASC,OACtBC,UAAaT,EAAAO,EAASG,QAMtBC,EAAA,SAAAC,GACA,IAAAN,EAAAM,EAAAN,UACAG,EAAAG,EAAAH,UACAI,EAAAD,EAAAP,IACAS,EAAmBC,OAAApB,EAAA,EAAAoB,CAA6BH,EAAA,iCAEhDI,EAAgBD,OAAAZ,EAAA,EAAAY,CAAgBb,IAAUI,EAAA,eAAAG,GAC1C,OAASZ,EAAAU,EAAKU,cAAAJ,EAAoBE,OAAAtB,EAAA,EAAAsB,CAAQ,GAAGD,EAAA,CAC7CR,UAAAU,MAIAL,EAAAP,YACAO,EAAAO,aAjBA,CACAb,IAAA,OAiBec,EAAA,sCC7Bf,IAAA1B,EAAAC,EAAA,IAAAC,EAAAD,EAAA,IAAAE,EAAAF,EAAA,GAAAG,EAAAH,EAAAI,EAAAF,GAAAG,EAAAL,EAAA,GAAAM,EAAAN,EAAAI,EAAAC,GAAAE,EAAAP,EAAA,IAAAQ,EAAAR,EAAAI,EAAAG,GAAAE,EAAAT,EAAA,GAMAU,EAAA,CACAC,IAAOF,EAAA,EACPG,UAAaN,EAAAO,EAASC,OACtBC,UAAaT,EAAAO,EAASG,QAMtBU,EAAA,SAAAR,GACA,IAAAN,EAAAM,EAAAN,UACAG,EAAAG,EAAAH,UACAI,EAAAD,EAAAP,IACAS,EAAmBC,OAAApB,EAAA,EAAAoB,CAA6BH,EAAA,iCAEhDI,EAAgBD,OAAAZ,EAAA,EAAAY,CAAgBb,IAAUI,EAAA,eAAAG,GAC1C,OAASZ,EAAAU,EAAKU,cAAAJ,EAAoBE,OAAAtB,EAAA,EAAAsB,CAAQ,GAAGD,EAAA,CAC7CR,UAAAU,MAIAI,EAAAhB,YACAgB,EAAAF,aAjBA,CACAb,IAAA,OAiBec,EAAA,sCC7Bf,IAAA1B,EAAAC,EAAA,IAAAC,EAAAD,EAAA,IAAAE,EAAAF,EAAA,GAAAG,EAAAH,EAAAI,EAAAF,GAAAG,EAAAL,EAAA,GAAAM,EAAAN,EAAAI,EAAAC,GAAAE,EAAAP,EAAA,IAAAQ,EAAAR,EAAAI,EAAAG,GAAAE,EAAAT,EAAA,GAMAU,EAAA,CACAE,UAAaN,EAAAO,EAASC,OACtBC,UAAaT,EAAAO,EAASG,OACtBW,KAAQrB,EAAAO,EAASC,OACjBc,SAAYtB,EAAAO,EAASgB,KACrBC,WAAcxB,EAAAO,EAASgB,KACvBE,QAAWzB,EAAAO,EAASgB,KACpBG,KAAQ1B,EAAAO,EAASgB,KACjBI,MAAS3B,EAAAO,EAASgB,KAClBK,WAAc5B,EAAAO,EAASsB,UAAA,CAAY7B,EAAAO,EAASgB,KAAOvB,EAAAO,EAASC,SAC5DH,IAAOF,EAAA,EACP2B,cAAiB3B,EAAA,EACjB4B,SAAY/B,EAAAO,EAASsB,UAAA,CAAY7B,EAAAO,EAASyB,KAAOhC,EAAAO,EAASC,OAASR,EAAAO,EAASG,UAO5EuB,EAAA,SAAArB,GACA,IAAAN,EAAAM,EAAAN,UACAG,EAAAG,EAAAH,UACAY,EAAAT,EAAAS,KACAC,EAAAV,EAAAU,SACAE,EAAAZ,EAAAY,WACAC,EAAAb,EAAAa,QACAC,EAAAd,EAAAc,KACAC,EAAAf,EAAAe,MACAC,EAAAhB,EAAAgB,WACAf,EAAAD,EAAAP,IACA6B,EAAAtB,EAAAkB,cACAC,EAAAnB,EAAAmB,SACAjB,EAAmBC,OAAApB,EAAA,EAAAoB,CAA6BH,EAAA,iIAEhDI,EAAgBD,OAAAZ,EAAA,EAAAY,CAAgBb,IAAUI,EAAA,UAAAe,GAAA,SAAAA,IAAAC,GAAA,mBAAAE,GAAA,qBAAAC,GAAA,kBAAAC,GAAA,eAAAC,GAAA,eAAAlB,GAC1C0B,EAActC,EAAAU,EAAKU,cAAAJ,EAAoBE,OAAAtB,EAAA,EAAAsB,CAAQ,GAAGD,EAAA,CAClDsB,IAAAL,EACAzB,UAAAU,KAGA,GAAAY,EAAA,CACA,IAAAS,EAA8BtB,OAAAZ,EAAA,EAAAY,EAAe,IAAAa,EAAA,uCAAAA,EAAAnB,GAC7C,OAAWZ,EAAAU,EAAKU,cAAAiB,EAAA,CAChB5B,UAAA+B,GACKF,GAGL,OAAAA,GAGAF,EAAA7B,YACA6B,EAAAf,aArCA,CACAb,IAAA,QACAyB,cAAA,OAoCeX,EAAA,4JCrDFmB,EAAyB,SAACC,EAAcC,GACjD,IAAMC,EAAM,IAAIC,IAAM,IAAK,MACrBC,EAAY,CACdC,UAAW,CAAC,GAAI,IAAK,KACrBC,UAAW,CAAC,IAAK,IAAK,KACtBC,UAAW,QAETC,EAAWN,EAAIO,SAASD,SACxBE,EAAYF,EAASG,MAAQH,EAASG,MAAQH,EAASI,WAE7DV,EAAIW,KADQ,kBACIH,EAAY,EAAG,GAAI,UAEnCR,EAAIY,UAAU,CACVC,KAAI,IAAAC,OAAMhB,GACViB,OAAQ,GACRC,aAAc,SAAAC,GACa,IAAnBA,EAAKC,IAAIC,QACTF,EAAKG,KAAKC,OAAV/C,OAAAgD,EAAA,EAAAhD,CAAA,GAAwB2C,EAAKG,KAAKC,OAAWnB,OAIzDF,EAAIY,UAAU,CACVC,KAAI,IAAAC,OAAMf,GAGViB,aAAc,SAAAC,GACa,IAAnBA,EAAKC,IAAIC,QACTF,EAAKG,KAAKC,OAAV/C,OAAAgD,EAAA,EAAAhD,CAAA,GAAwB2C,EAAKG,KAAKC,OAAWnB,OAIzDF,EAAIuB,KAAJ,WAAAT,OAAoBU,OAAOC,IAASC,WAApC,UAGSC,EAAyB,SAACV,EAAMW,EAAc9B,EAAcC,GACrE,IAAM8B,EAAWC,YAAgBb,EAAKc,UAChCC,EAAYP,EAAOR,EAAKgB,UAAYhB,EAAKgB,SAAS,GAAGC,WAAWC,QAAQ,QACxEC,EAAUX,EAAOR,EAAKgB,UAAYhB,EAAKgB,SAAS,GAAGC,WAAWG,MAAM,QAEpErC,EAAM,IAAIC,IAAM,IAAK,MACrBC,EAAY,CACdC,UAAW,CAAC,IAAK,IAAK,IACtBC,UAAW,CAAC,IAAK,IAAK,KACtBC,UAAW,QAETiC,EAAe,CACjBlC,UAAW,CAAC,IAAK,GAAI,KAEnBE,EAAWN,EAAIO,SAASD,SACxBE,EAAYF,EAASG,MAAQH,EAASG,MAAQH,EAASI,WAGzD6B,EAAc,WAAAzB,OAAcG,EAAKuB,eACjCC,EAAgBZ,EAChBa,EAAQ,GAAA5B,OAAM6B,YAAcX,GAApB,OAAAlB,OAAoC6B,YAAcP,IAC1DQ,EAAmB,qBAAuBpB,OAAOI,GAAgB,IAErE5B,EAAIW,KANa,YAMIH,EAAY,EAAG,GAAI,UACxCR,EAAIW,KAAK4B,EAAgB/B,EAAY,EAAG,GAAI,UAC5CR,EAAIW,KAAK8B,EAAejC,EAAY,EAAG,GAAI,UAC3CR,EAAIW,KAAK+B,EAAUlC,EAAY,EAAG,IAAK,UAEvCR,EAAIY,UAAU,CACVC,KAAI,IAAAC,OAAMhB,GACViB,OAAQ,IACRC,aAAc,SAAAC,GACV,IAAI4B,EAAO5B,EAAKvB,MAAMoD,KAClB7B,EAAKC,IAAIC,QAAU0B,EAAKE,OAAS,IACjC9B,EAAKG,KAAKC,OAAV/C,OAAAgD,EAAA,EAAAhD,CAAA,GAAwB2C,EAAKG,KAAKC,OAAWnB,IAE5B,SAAjBe,EAAK+B,SAAsB/B,EAAKC,IAAI+B,IAAIpF,WAAaoD,EAAKC,IAAI+B,IAAIpF,UAAUqF,SAAS,8BACrFjC,EAAKG,KAAKC,OAAV/C,OAAAgD,EAAA,EAAAhD,CAAA,GAAwB2C,EAAKG,KAAKC,OAAWiB,OAIzDtC,EAAIW,KAAKiC,EAAkBpC,EAAY,EAAGR,EAAIY,UAAUuC,SAASC,OAAS,GAAI,UAE9EpD,EAAIY,UAAU,CACVC,KAAI,IAAAC,OAAMf,GACVgB,OAAQf,EAAIY,UAAUuC,SAASC,OAAS,GACxCC,UAAW,SACXrC,aAAc,SAAAC,GACV,IAAI4B,EAAO5B,EAAKvB,MAAMoD,KAClB7B,EAAKC,IAAIC,QAAU0B,EAAKE,OAAS,IACjC9B,EAAKG,KAAKC,OAAV/C,OAAAgD,EAAA,EAAAhD,CAAA,GAAwB2C,EAAKG,KAAKC,OAAWnB,OAIzDF,EAAIuB,KAAJ,cAAAT,OAAuBU,OAAOC,IAASC,WAAvC,wOC1FS4B,EAAiB,SAACC,GAC3B,IAAIC,EAAS,GAYb,OAXAD,GAAeA,EAAYE,QAAQ,SAACC,EAASC,GACzCD,EAAQE,QAAUF,EAAQE,OAAOH,QAAQ,SAAAI,GACrC,IAAMC,EAA8B,IAAlBN,EAAOT,OAAe,EAAIS,EAAOA,EAAOT,OAAS,GAAGgB,WAClE9C,EAAI3C,OAAAgD,EAAA,EAAAhD,CAAA,GACDuF,EACAH,EAFC,CAGJK,WAAYC,OAAOH,EAAMI,OAASD,OAAOF,KAE7CN,EAAOU,KAAKjD,OAGbuC,GAGEW,EAAsB,SAACZ,GAChC,IAAIC,EAAS,GAYb,OAXAD,GAAeA,EAAYE,QAAQ,SAAAC,GAC3BA,EAAQU,SAAWC,IAAKC,eAAeC,UACvCb,EAAQE,OAAOH,QAAQ,SAACI,GACpB,IAAI5C,EAAI3C,OAAAgD,EAAA,EAAAhD,CAAA,GACDuF,EACAH,GAEPF,EAAOU,KAAKjD,OAIjBuC,GAGEgB,EAAY,SAACC,EAAoBC,EAAsBC,EAAaC,GAC7E,IAAMC,EAAcb,OAAOW,GAAeX,OAAOY,GACjD,GAAIZ,OAAOS,EAAmBL,UAAYC,IAAKS,eAAeC,KAG1D,MAAO,CACHC,aAHiBP,EAAmBQ,mBAIpCC,cAHkBT,EAAmBU,qBAOzC,GAAInB,OAAOU,GAAwBV,OAAOW,GAAc,CAGpD,MAAO,CACHK,aAHiBN,EAIjBQ,cAHkB,GAMrB,OAAIlB,OAAOU,GAAwBV,OAAOa,GAGpC,CACHG,aAHiBL,EAIjBO,cAHkBlB,OAAOU,GAAwBV,OAAOW,IASrD,CACHK,aAHiBL,EAIjBO,cAHkBN,IASrBQ,EAAyB,SAACC,GAKnC,OAJgBA,EAAStC,OAAS,GAAKsC,EAASC,IAAI,SAAAC,GAEhD,OADkBvB,OAAOuB,EAAK1B,OAASG,OAAOuB,EAAKtB,SAEpDuB,OAAO,SAACC,EAAOC,GAAR,OAAyBD,EAAQC,KAIlCC,EAAkB,SAACjB,EAAsBkB,GAClD,OAAI5B,OAAOU,GAAyBV,OAAO4B,EAAcZ,cAAgBhB,OAAO4B,EAAcV,eACrElB,OAAOU,IAAyBV,OAAO4B,EAAcZ,cAAgBhB,OAAO4B,EAAcV,gBAIxG,0OCvCAW,UA7CM,SAAC1H,GAAU,IAExB2H,EAEA3H,EAFA2H,cACAC,EACA5H,EADA4H,0BAEJ,OACIC,EAAAlI,EAAAU,cAAAwH,EAAAlI,EAAAmI,SAAA,KAEQH,EAAc/C,OAAS,GAAKiD,EAAAlI,EAAAU,cAAAwH,EAAAlI,EAAAmI,SAAA,KACxBD,EAAAlI,EAAAU,cAAA,UACIwH,EAAAlI,EAAAU,cAAA,MAAI0H,QAAQ,QAEhBF,EAAAlI,EAAAU,cAAA,UACIwH,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,YAAYqI,QAAQ,MAAKF,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,eAAcmI,EAAAlI,EAAAU,cAAA,6BAGnEsH,EAAcR,IAAI,SAACC,EAAMpE,GAAU,IACvBgF,EAAmDZ,EAAnDY,cAAelC,EAAoCsB,EAApCtB,MAAOmC,EAA6Bb,EAA7Ba,WAAYvC,EAAiB0B,EAAjB1B,MAAOwC,EAAUd,EAAVc,MAC3CC,EAAiBH,GAAiB,YAClCI,EAAoB5D,YAAcyD,GAClCI,EAAOH,EAAMI,KACbC,EAAoB1C,OAAOH,GAASG,OAAOC,GACjD,OACI+B,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,2BAA2B8I,IAAKxF,GAC1C6E,EAAAlI,EAAAU,cAAA,WACAwH,EAAAlI,EAAAU,cAAA,MAAI0H,QAAQ,KAAZ,IAAkBI,GAClBN,EAAAlI,EAAAU,cAAA,cAAM+H,GACNP,EAAAlI,EAAAU,cAAA,UAAKgI,GACLR,EAAAlI,EAAAU,cAAA,cAAMoI,YAAU/C,GAAhB,KACAmC,EAAAlI,EAAAU,cAAA,MAAI0H,QAAQ,KAAKU,YAAU3C,IAC3B+B,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUF,OAKhCV,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,sBACVmI,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,yBAAyBqI,QAAQ,KAA/C,SACAF,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUb,SCPzBF,EA9BM,SAAC1H,GAAU,IAExB4F,EAIA5F,EAJA4F,WACA6B,EAGAzH,EAHAyH,cACAlB,EAEAvG,EAFAuG,qBACA9C,EACAzD,EADAyD,aAEJ,OACIoE,EAAAlI,EAAAU,cAAAwH,EAAAlI,EAAAmI,SAAA,KACID,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,sBACVmI,EAAAlI,EAAAU,cAAA,MAAI0H,QAAQ,KAAZ,SACAF,EAAAlI,EAAAU,cAAA,UAAKoI,YAAU7C,IACfiC,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUlC,KAEpBsB,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,sBACVmI,EAAAlI,EAAAU,cAAA,MAAI0H,QAAQ,KAAZ,gBACAF,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUhB,EAAcZ,gBAElCgB,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,sBACVmI,EAAAlI,EAAAU,cAAA,MAAI0H,QAAQ,KAAZ,iBACAF,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUhB,EAAcV,iBAElCc,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,sBACVmI,EAAAlI,EAAAU,cAAA,MAAI0H,QAAQ,KAAZ,iBACAF,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUhF,gBCoBjBiF,EAvCO,SAAC1I,GAAU,IAEzB2I,EAGA3I,EAHA2I,qBACAlB,EAEAzH,EAFAyH,cACAmB,EACA5I,EADA4I,eAEJ,OACIf,EAAAlI,EAAAU,cAACwI,EAAA,EAAD,KACIhB,EAAAlI,EAAAU,cAACyI,EAAA,EAAD,KACIjB,EAAAlI,EAAAU,cAACgB,EAAA,EAAD,CAAO3B,UAAU,qBAAqBqJ,GAAG,uBAAuB/H,YAAU,GACtE6G,EAAAlI,EAAAU,cAAA,SAAOX,UAAU,eACbmI,EAAAlI,EAAAU,cAAA,UACIwH,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,cAAcqI,QAAQ,KAApC,IAAyCF,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,qBAAd,kBAAzC,OAGRmI,EAAAlI,EAAAU,cAAA,aACIwH,EAAAlI,EAAAU,cAAA,UACIwH,EAAAlI,EAAAU,cAAA,qCACAwH,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUE,KAEpBd,EAAAlI,EAAAU,cAAA,UACIwH,EAAAlI,EAAAU,cAAA,6BACAwH,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUhB,EAAcV,iBAElCc,EAAAlI,EAAAU,cAAA,UACIwH,EAAAlI,EAAAU,cAAA,8BACAwH,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUG,KAEpBf,EAAAlI,EAAAU,cAAA,MAAIX,UAAU,mCACVmI,EAAAlI,EAAAU,cAAA,oCACAwH,EAAAlI,EAAAU,cAAA,cAAMoI,YAAU5C,OAAO8C,GAAwB9C,OAAO4B,EAAcV,eAAiBlB,OAAO+C,WCTzGI,EAzBI,SAAChJ,GAAU,IAAAiJ,EACiFjJ,EAAMkJ,YAAzGC,EADkBF,EAClBE,KAAMnB,EADYiB,EACZjB,cAAejE,EADHkF,EACGlF,UAAWqF,EADdH,EACcG,UAAWtD,EADzBmD,EACyBnD,MAAOF,EADhCqD,EACgCrD,WAAYqC,EAD5CgB,EAC4ChB,WAAYvC,EADxDuD,EACwDvD,MAAOwC,EAD/De,EAC+Df,MAAOjC,EADtEgD,EACsEhD,OAC1FoD,EAAiBrB,GAAiB,YAClCsB,EAAgB9E,YAAcT,GAC9BwF,EAAmB/E,YAAc4E,GACjCI,EAAoBhF,YAAcyD,GAClCwB,EAAQvB,EAAMI,KACdoB,EAAS7D,OAAOH,GAASG,OAAOC,GAChC6D,EAAiB1D,IAAWC,IAAKC,eAAeC,SACtD,OACIyB,EAAAlI,EAAAU,cAAA,MAAIX,UAAS,GAAAiD,OAAKgH,EAAiB,2BAA6B,KAC5D9B,EAAAlI,EAAAU,cAAA,mBAAW8I,GACXtB,EAAAlI,EAAAU,cAAA,cAAMgJ,GACNxB,EAAAlI,EAAAU,cAAA,UAAKiJ,GACLzB,EAAAlI,EAAAU,cAAA,UAAKkJ,GACL1B,EAAAlI,EAAAU,cAAA,UAAKsJ,EAAiBH,EAAoB,IAC1C3B,EAAAlI,EAAAU,cAAA,UAAKoJ,GACL5B,EAAAlI,EAAAU,cAAA,cAAMoI,YAAU/C,IAChBmC,EAAAlI,EAAAU,cAAA,UAAKoI,YAAU3C,IACf+B,EAAAlI,EAAAU,cAAA,UAAKoI,YAAU7C,IACfiC,EAAAlI,EAAAU,cAAA,cAAMoI,YAAUiB,sBCSxBE,EAAQtG,IAASU,QAAQ,QAyNd6F,UAvNf,SAAuB7J,GACrB,IAAM8J,EAAWC,cADWC,EAEkBC,oBAAS,GAF3BC,EAAA/J,OAAAgK,EAAA,EAAAhK,CAAA6J,EAAA,GAErBI,EAFqBF,EAAA,GAEHG,EAFGH,EAAA,GAGtBI,EAAYtK,EAAMuK,MAAMC,OAAOzB,GAC/B0B,EAAuBC,YAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQC,aAC5DC,EAAUJ,YAAY,SAACC,GAAD,OAAWA,EAAMC,QAAQE,UAC/ClH,EAAW8G,YAAY,SAACC,GAAD,OAAWA,EAAMI,QAAQjI,OAEtDkI,oBAAU,WACU,oBAAdV,GACFD,GAAkB,GAEpBP,EAASmB,YAAiBX,KACzB,IAEH,IASM5G,EAAW0G,EACbzG,YAAgBC,GAChBD,YAAgB8G,EAAqB7G,UACnCC,EAAYuG,EACd9G,EAAOsG,GAAO5F,QAAQ,QACtBV,EACEmH,EAAqB3G,UACnB2G,EAAqB3G,SAAS,GAAGC,WACnCC,QAAQ,QAERC,EAAUmG,EACZ9G,EAAOsG,GAAO1F,MAAM,QACpBZ,EACEmH,EAAqB3G,UACnB2G,EAAqB3G,SAAS,GAAGC,WACnCG,MAAM,QAENkB,EAAcgF,EAChBjF,YAAesF,EAAqBpF,QACpCF,YAAesF,EAAqB3G,UAClCoH,EAAmBd,EACrBpE,YAAoByE,EAAqBpF,QACzCW,YAAoByE,EAAqB3G,UACvC8B,EACJR,EAAYR,OAAS,GAAKQ,EAAYA,EAAYR,OAAS,GAAGgB,WAC1DW,EAAuBU,YAAuB7B,GAC9CwC,EAA4BX,YAAuBiE,GACnDzE,EAAe2D,EACjBe,IAAEC,IAAIxH,EAAU,eAAgB,GAChCuH,IAAEC,IACAX,GAAwBA,EAAqB7G,SAC7C,eACA,GAEA4C,EAAc4D,EAChBe,IAAEC,IAAIxH,EAAU,cAAe,GAC/BuH,IAAEC,IACAX,GAAwBA,EAAqB7G,SAC7C,cACA,GAEA6D,EACJ0D,IAAEE,OAAO9E,IACT4E,IAAEE,OAAO7E,IACT2E,IAAEE,OAAO5E,GACL,GACAJ,YACEoE,EACAlE,EACAC,EACAC,GAEFhD,EACJ0H,IAAEE,OAAO9E,IAAyB4E,IAAEE,OAAO5D,GACvC,GACAD,YAAgBjB,EAAsBkB,GACtCmB,EAAiBhB,GAA6B,EAC9Ce,EACJ9C,OAAO4E,EAAqBxE,UAAYC,IAAKS,eAAeC,KACxD6D,EAAqBa,mBACrB7E,EAEN,OACEoB,EAAAlI,EAAAU,cAAAwH,EAAAlI,EAAAmI,SAAA,KACGgD,GAAWjD,EAAAlI,EAAAU,cAACkL,EAAA,EAAD,MACXd,GACC5C,EAAAlI,EAAAU,cAACmL,EAAA,EAAD,CAAK9L,UAAU,0BACbmI,EAAAlI,EAAAU,cAACwI,EAAA,EAAD,CAAMnJ,UAAU,QACdmI,EAAAlI,EAAAU,cAACN,EAAA,EAAD,KACE8H,EAAAlI,EAAAU,cAACoL,EAAA,EAAD,CAAK/L,UAAU,UACbmI,EAAAlI,EAAAU,cAACmL,EAAA,EAAD,CACEE,GAAI,EACJC,GAAI,GACJjM,UAAU,yCAEVmI,EAAAlI,EAAAU,cAACuL,EAAA,EAAD,CAAMC,GAAI,sCACRhE,EAAAlI,EAAAU,cAACyL,EAAA,EAAD,CAAQC,MAAM,QACZlE,EAAAlI,EAAAU,cAAA,KAAGX,UAAU,qBADf,WAKJmI,EAAAlI,EAAAU,cAACmL,EAAA,EAAD,CACEE,GAAI,EACJC,GAAI,GACJjM,UAAU,yCAEVmI,EAAAlI,EAAAU,cAAA,UACEwH,EAAAlI,EAAAU,cAAA,KAAGX,UAAU,gBAAb,cAEFmI,EAAAlI,EAAAU,cAAA,wBACW,IADX,GAAAsC,OAGIyH,EACI,UADY,IAAAzH,OAER8H,EAAqBpG,kBAInCwD,EAAAlI,EAAAU,cAACmL,EAAA,EAAD,CACEE,GAAI,EACJC,GAAI,GACJjM,UAAU,sDAEVmI,EAAAlI,EAAAU,cAAA,UACEwH,EAAAlI,EAAAU,cAAA,KAAGX,UAAU,aAAagE,IAE5BmE,EAAAlI,EAAAU,cAAA,aACGmE,YAAcX,EAAW,cAD5B,KAC6C,IAC1CW,YAAcP,EAAS,kBAKhC4D,EAAAlI,EAAAU,cAACgB,EAAA,EAAD,CACE3B,UAAU,gCACVqJ,GAAG,eACH/H,YAAU,GAEV6G,EAAAlI,EAAAU,cAAA,SAAOX,UAAU,eACfmI,EAAAlI,EAAAU,cAAA,UACEwH,EAAAlI,EAAAU,cAAA,UACG,IADH,WAAAsC,OAEc6B,YACVX,EACA,SAJJ,OAAAlB,OAKS6B,YAAcP,EAAS,SALhC,KAK6C,KAE7C4D,EAAAlI,EAAAU,cAAA,8BACAwH,EAAAlI,EAAAU,cAAA,4BACAwH,EAAAlI,EAAAU,cAAA,gCACAwH,EAAAlI,EAAAU,cAAA,iCACAwH,EAAAlI,EAAAU,cAAA,oBACAwH,EAAAlI,EAAAU,cAAA,oBACAwH,EAAAlI,EAAAU,cAAA,4BACAwH,EAAAlI,EAAAU,cAAA,6BACAwH,EAAAlI,EAAAU,cAAA,uBAGJwH,EAAAlI,EAAAU,cAAA,SAAOX,UAAU,UACd0F,EAAY+B,IAAI,SAACC,EAAMpE,GACtB,OAAO6E,EAAAlI,EAAAU,cAAC2L,EAAD,CAAYxD,IAAKxF,EAAOkG,YAAa9B,MAE7ChC,EAAYR,OAAS,GACpBiD,EAAAlI,EAAAU,cAAC4L,EAAD,CACErG,WAAYA,EACZW,qBAAsBA,EACtBkB,cAAeA,EACfhE,aAAcA,IAGlBoE,EAAAlI,EAAAU,cAAC6L,EAAD,CACEvE,cAAeuD,EACftD,0BAA2BA,MAIjCC,EAAAlI,EAAAU,cAACG,EAAA,EAAD,CAAYd,UAAU,iCACpBmI,EAAAlI,EAAAU,cAAA,UACEwH,EAAAlI,EAAAU,cAAA,KAAGX,UAAU,gBAAb,sBACsB+I,YAAUhF,GAAe,QAKrDoE,EAAAlI,EAAAU,cAACoL,EAAA,EAAD,KACE5D,EAAAlI,EAAAU,cAACmL,EAAA,EAAD,CAAKE,GAAI,GACP7D,EAAAlI,EAAAU,cAAC8L,EAAD,CACExD,qBAAsBA,EACtBlB,cAAeA,EACfmB,eAAgBA,MAGlBwB,GACAvC,EAAAlI,EAAAU,cAACmL,EAAA,EAAD,CAAKE,GAAI,GACN,IACD7D,EAAAlI,EAAAU,cAACyL,EAAA,EAAD,CACEC,MAAM,UACNtL,KAAK,KACL2L,QAAS,kBA3LP,SAAC3I,GACjBD,YACEiH,EACAhH,EACA,eACA,wBAsL2B4I,CAAU5I,KAH3B","file":"static/js/27.1dc87cf1.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardHeader = function CardHeader(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-header'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardHeader.propTypes = propTypes;\nCardHeader.defaultProps = defaultProps;\nexport default CardHeader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardFooter = function CardFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardFooter.propTypes = propTypes;\nCardFooter.defaultProps = defaultProps;\nexport default CardFooter;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport * as moment from 'moment';\r\nimport { getDateFormat, getUserFullName } from 'helpers/UtilsHelper';\r\n\r\nexport const exportClientInvoicePDF = (firstTableId, secondTableId) => {\r\n    const doc = new jsPDF('l', 'pt');\r\n    const highLight = {\r\n        fillColor: [41, 128, 186],\r\n        textColor: [255, 255, 255],\r\n        fontStyle: \"bold\"\r\n    }\r\n    const pageSize = doc.internal.pageSize;\r\n    const pageWidth = pageSize.width ? pageSize.width : pageSize.getWidth();\r\n    let TITLE = \"Billing Invoice\";\r\n    doc.text(TITLE, pageWidth / 2, 30, 'center');\r\n\r\n    doc.autoTable({\r\n        html: `#${firstTableId}`,\r\n        startY: 55,\r\n        didParseCell: data => {\r\n            if (data.row.index === 0) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n        },\r\n    });\r\n    doc.autoTable({\r\n        html: `#${secondTableId}`,\r\n        // startY: doc.autoTable.previous.finalY + 50,\r\n        // pageBreak: 'always',\r\n        didParseCell: data => {\r\n            if (data.row.index === 1) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n        },\r\n    });\r\n    doc.save(`invoice_${String(moment().valueOf())}.pdf`);\r\n}\r\n\r\nexport const exportClientBillingPDF = (data, totalCharged, firstTableId, secondTableId) => {\r\n    const fullName = getUserFullName(data.provider)\r\n    const startWeek = moment(data.bookings && data.bookings[0].createdAt).startOf('week');\r\n    const endWeek = moment(data.bookings && data.bookings[0].createdAt).endOf('week');\r\n\r\n    const doc = new jsPDF('l', 'pt');\r\n    const highLight = {\r\n        fillColor: [227, 136, 91],\r\n        textColor: [255, 255, 255],\r\n        fontStyle: \"bold\"\r\n    }\r\n    const cancellation = {\r\n        textColor: [245, 54, 92],\r\n    }\r\n    const pageSize = doc.internal.pageSize;\r\n    const pageWidth = pageSize.width ? pageSize.width : pageSize.getWidth();\r\n\r\n    let ETHERA_PAY = \"EtheraPay\";\r\n    let INVOICE_NUMBER = `Invoice ${data.invoiceNumber}`;\r\n    let PROVIDER_NAME = fullName;\r\n    let DURATION = `${getDateFormat(startWeek)} - ${getDateFormat(endWeek)}`;\r\n    let TOTAL_AMOUNT_DUE = \"TOTAL AMOUNT DUE: \" + String(totalCharged) + \"$\"\r\n\r\n    doc.text(ETHERA_PAY, pageWidth / 2, 30, 'center');\r\n    doc.text(INVOICE_NUMBER, pageWidth / 2, 55, 'center');\r\n    doc.text(PROVIDER_NAME, pageWidth / 2, 80, 'center');\r\n    doc.text(DURATION, pageWidth / 2, 105, 'center');\r\n\r\n    doc.autoTable({\r\n        html: `#${firstTableId}`,\r\n        startY: 120,\r\n        didParseCell: data => {\r\n            var rows = data.table.body;\r\n            if (data.row.index === rows.length - 1) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n            if (data.section === \"body\" && data.row.raw.className && data.row.raw.className.includes(\"custom-row__cancellation\")) {\r\n                data.cell.styles = { ...data.cell.styles, ...cancellation }\r\n            }\r\n        },\r\n    });\r\n    doc.text(TOTAL_AMOUNT_DUE, pageWidth / 2, doc.autoTable.previous.finalY + 30, 'center');\r\n\r\n    doc.autoTable({\r\n        html: `#${secondTableId}`,\r\n        startY: doc.autoTable.previous.finalY + 50,\r\n        pageBreak: 'always',\r\n        didParseCell: data => {\r\n            var rows = data.table.body;\r\n            if (data.row.index === rows.length - 1) {\r\n                data.cell.styles = { ...data.cell.styles, ...highLight }\r\n            }\r\n        },\r\n    });\r\n    doc.save(`Ethera-Pay_${String(moment().valueOf())}.pdf`);\r\n}","import 'jspdf-autotable';\r\nimport cons from '../constants'\r\n\r\nexport const getBookingList = (bookingList) => {\r\n    let result = []\r\n    bookingList && bookingList.forEach((booking, i) => {\r\n        booking.prices && booking.prices.forEach(price => {\r\n            const prevHours = result.length === 0 ? 0 : result[result.length - 1].totalHours\r\n            let data = {\r\n                ...price,\r\n                ...booking,\r\n                totalHours: Number(price.hours) + Number(prevHours)\r\n            }\r\n            result.push(data)\r\n        })\r\n    })\r\n    return result\r\n}\r\n\r\nexport const getCancellationList = (bookingList) => {\r\n    let result = []\r\n    bookingList && bookingList.forEach(booking => {\r\n        if (booking.status === cons.BOOKING_STATUS.CANCELED) {\r\n            booking.prices.forEach((price) => {\r\n                let data = {\r\n                    ...price,\r\n                    ...booking,\r\n                }\r\n                result.push(data)\r\n            })\r\n        }\r\n    })\r\n    return result\r\n}\r\n\r\nexport const getCredit = (bookingInvoiceData, totalChargedBookings, promoCredit, etheraCredit) => {\r\n    const totalCredit = Number(promoCredit) + Number(etheraCredit)\r\n    if (Number(bookingInvoiceData.status) === cons.BILLING_STATUS.PAID) {\r\n        const promoApplied = bookingInvoiceData.appliedPromoCredit\r\n        const etheraApplied = bookingInvoiceData.appliedEtheraCredit\r\n        return {\r\n            promoApplied,\r\n            etheraApplied,\r\n        }\r\n    }\r\n    else {\r\n        if (Number(totalChargedBookings) < Number(promoCredit)) {\r\n            const promoApplied = totalChargedBookings\r\n            const etheraApplied = 0\r\n            return {\r\n                promoApplied,\r\n                etheraApplied,\r\n            }\r\n        }\r\n        else if (Number(totalChargedBookings) < Number(totalCredit)) {\r\n            const promoApplied = promoCredit\r\n            const etheraApplied = Number(totalChargedBookings) - Number(promoCredit)\r\n            return {\r\n                promoApplied,\r\n                etheraApplied,\r\n            }\r\n        }\r\n        else {\r\n            const promoApplied = promoCredit\r\n            const etheraApplied = etheraCredit\r\n            return {\r\n                promoApplied,\r\n                etheraApplied,\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport const getTotalChargedBooking = (listData) => {\r\n    const tempArr = listData.length > 0 && listData.map(item => {\r\n        const tempTotal = Number(item.price) * Number(item.hours)\r\n        return tempTotal\r\n    }).reduce((total, currentValue) => total + currentValue)\r\n    return tempArr\r\n}\r\n\r\nexport const getTotalCharged = (totalChargedBookings, creditApplied) => {\r\n    if (Number(totalChargedBookings) > (Number(creditApplied.promoApplied) + Number(creditApplied.etheraApplied))) {\r\n        const totalCharged = Number(totalChargedBookings) - (Number(creditApplied.promoApplied) + Number(creditApplied.etheraApplied))\r\n        return totalCharged\r\n    }\r\n    else {\r\n        return 0\r\n    }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { getDateFormat, fixNumber } from 'helpers/UtilsHelper';\r\n\r\nconst TotalCharged = (props) => {\r\n    const {\r\n        cancellations,\r\n        totalCancellationBookings\r\n    } = props\r\n    return (\r\n        <>\r\n            {\r\n                cancellations.length > 0 && <>\r\n                    <tr>\r\n                        <td colSpan=\"11\" />\r\n                    </tr>\r\n                    <tr>\r\n                        <td className=\"text-left\" colSpan=\"10\"><h3 className=\"text-danger\"><b>Cancellations</b></h3></td>\r\n                    </tr>\r\n                    {\r\n                        cancellations.map((item, index) => {\r\n                            const { bookingNumber, hours, cancelDate, price, space } = item\r\n                            const booking_number = bookingNumber || \"#########\"\r\n                            const cancellation_date = getDateFormat(cancelDate)\r\n                            const room = space.name\r\n                            const cancellationTotal = Number(price) * Number(hours)\r\n                            return (\r\n                                <tr className=\"custom-row__cancellation\" key={index}>\r\n                                    <td></td>\r\n                                    <td colSpan=\"3\">#{booking_number}</td>\r\n                                    <td> {cancellation_date}</td>\r\n                                    <td>{room}</td>\r\n                                    <td>${fixNumber(price)} </td>\r\n                                    <td colSpan=\"2\">{fixNumber(hours)}</td>\r\n                                    <td>${fixNumber(cancellationTotal)}</td>\r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                    <tr className=\"custom-row__result\">\r\n                        <td className=\"text-left text-primary\" colSpan=\"9\">Total</td>\r\n                        <td>${fixNumber(totalCancellationBookings)}</td>\r\n                    </tr>\r\n                </>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TotalCharged;","import React from 'react';\r\nimport { fixNumber } from 'helpers/UtilsHelper';\r\n\r\nconst TotalCharged = (props) => {\r\n    const {\r\n        totalHours,\r\n        creditApplied,\r\n        totalChargedBookings,\r\n        totalCharged\r\n    } = props\r\n    return (\r\n        <>\r\n            <tr className=\"custom-row__result\">\r\n                <td colSpan=\"8\">Total</td>\r\n                <td>{fixNumber(totalHours)}</td>\r\n                <td>${fixNumber(totalChargedBookings)}</td>\r\n            </tr>\r\n            <tr className=\"custom-row__result\">\r\n                <td colSpan=\"9\">Promo Credit</td>\r\n                <td>${fixNumber(creditApplied.promoApplied)}</td>\r\n            </tr>\r\n            <tr className=\"custom-row__result\">\r\n                <td colSpan=\"9\">Ethera Credit</td>\r\n                <td>${fixNumber(creditApplied.etheraApplied)}</td>\r\n            </tr>\r\n            <tr className=\"custom-row__result\">\r\n                <td colSpan=\"9\">Total Charged</td>\r\n                <td>${fixNumber(totalCharged)}</td>\r\n            </tr>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TotalCharged;","import React from 'react';\r\nimport {\r\n    Card,\r\n    Table,\r\n    CardBody,\r\n} from \"reactstrap\";\r\nimport { fixNumber } from 'helpers/UtilsHelper'\r\n\r\nconst CreditBalance = (props) => {\r\n    const {\r\n        openingCreditBalance,\r\n        creditApplied,\r\n        creditReceived,\r\n    } = props\r\n    return (\r\n        <Card>\r\n            <CardBody>\r\n                <Table className=\"align-items-center\" id=\"credit-balance-table\" responsive>\r\n                    <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th className=\"text-center\" colSpan=\"2\"> <h2 className=\"text-success mt-2\">Credit Balance</h2> </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td> Opening Credit Balance</td>\r\n                            <td>${fixNumber(openingCreditBalance)}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td> Credit Applied</td>\r\n                            <td>${fixNumber(creditApplied.etheraApplied)}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td> Credit Received</td>\r\n                            <td>${fixNumber(creditReceived)}</td>\r\n                        </tr>\r\n                        <tr className=\"text-primary custom-row__result\">\r\n                            <td>Closing Credit Balance</td>\r\n                            <td>${fixNumber(Number(openingCreditBalance) - Number(creditApplied.etheraApplied) + Number(creditReceived))}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </CardBody>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default CreditBalance;","import React from 'react';\r\nimport { getDateFormat, fixNumber } from 'helpers/UtilsHelper';\r\nimport cons from '../../../../constants'\r\n\r\nconst ListDetail = (props) => {\r\n    const { tier, bookingNumber, createdAt, startDate, hours, totalHours, cancelDate, price, space, status } = props.bookingData\r\n    const _bookingNumber = bookingNumber || \"#########\"\r\n    const _purchaseDate = getDateFormat(createdAt)\r\n    const _reservationDate = getDateFormat(startDate)\r\n    const _cancellationDate = getDateFormat(cancelDate)\r\n    const _room = space.name\r\n    const _total = Number(price) * Number(hours)\r\n    const isShowCanceled = status === cons.BOOKING_STATUS.CANCELED ? true : false\r\n    return (\r\n        <tr className={`${isShowCanceled ? \"custom-row__cancellation\" : ''}`}>\r\n            <td>Tier: {tier}</td>\r\n            <td>#{_bookingNumber}</td>\r\n            <td>{_purchaseDate}</td>\r\n            <td>{_reservationDate}</td>\r\n            <td>{isShowCanceled ? _cancellationDate : ''}</td>\r\n            <td>{_room}</td>\r\n            <td>${fixNumber(price)}</td>\r\n            <td>{fixNumber(hours)}</td>\r\n            <td>{fixNumber(totalHours)}</td>\r\n            <td>${fixNumber(_total)}</td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default ListDetail;","import React from \"react\";\r\nimport * as moment from \"moment\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  Card,\r\n  Table,\r\n  Row,\r\n  Col,\r\n  CardHeader,\r\n  CardFooter,\r\n  Button,\r\n} from \"reactstrap\";\r\nimport { getInvoiceDetail } from \"../../../../redux/actions/billingAction\";\r\nimport { getDateFormat, getUserFullName, fixNumber } from \"helpers/UtilsHelper\";\r\nimport {\r\n  getBookingList,\r\n  getCancellationList,\r\n  getCredit,\r\n  getTotalChargedBooking,\r\n  getTotalCharged,\r\n} from \"helpers/BillingHelper\";\r\nimport { exportClientBillingPDF } from \"helpers/ExportHelper\";\r\nimport Loading from \"components/Loading\";\r\nimport cons from \"../../../../constants\";\r\nimport \"./InvoiceDetail.scss\";\r\nimport Cancellations from \"./Cancellations\";\r\nimport TotalCharged from \"./TotalCharged\";\r\nimport CreditBalance from \"./CreditBalance\";\r\nimport ListDetail from \"./ListDetail\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nlet today = moment().startOf(\"date\");\r\n\r\nfunction InvoiceDetail(props) {\r\n  const dispatch = useDispatch();\r\n  const [isPreviewInvoice, setPreviewInvoice] = useState(false);\r\n  const invoiceId = props.match.params.id;\r\n  const bookingInvoiceDetail = useSelector((state) => state.billing.detailData);\r\n  const loading = useSelector((state) => state.billing.loading);\r\n  const provider = useSelector((state) => state.navBars.data);\r\n\r\n  useEffect(() => {\r\n    if (invoiceId === \"preview-invoice\") {\r\n      setPreviewInvoice(true);\r\n    }\r\n    dispatch(getInvoiceDetail(invoiceId));\r\n  }, []);\r\n\r\n  const exportPDF = (totalCharged) => {\r\n    exportClientBillingPDF(\r\n      bookingInvoiceDetail,\r\n      totalCharged,\r\n      \"ethera-table\",\r\n      \"credit-balance-table\"\r\n    );\r\n  };\r\n\r\n  const fullName = isPreviewInvoice\r\n    ? getUserFullName(provider)\r\n    : getUserFullName(bookingInvoiceDetail.provider);\r\n  const startWeek = isPreviewInvoice\r\n    ? moment(today).startOf(\"week\")\r\n    : moment(\r\n        bookingInvoiceDetail.bookings &&\r\n          bookingInvoiceDetail.bookings[0].createdAt\r\n      ).startOf(\"week\");\r\n\r\n  const endWeek = isPreviewInvoice\r\n    ? moment(today).endOf(\"week\")\r\n    : moment(\r\n        bookingInvoiceDetail.bookings &&\r\n          bookingInvoiceDetail.bookings[0].createdAt\r\n      ).endOf(\"week\");\r\n\r\n  const bookingList = isPreviewInvoice\r\n    ? getBookingList(bookingInvoiceDetail.result)\r\n    : getBookingList(bookingInvoiceDetail.bookings);\r\n  const cancellationList = isPreviewInvoice\r\n    ? getCancellationList(bookingInvoiceDetail.result)\r\n    : getCancellationList(bookingInvoiceDetail.bookings);\r\n  const totalHours =\r\n    bookingList.length > 0 && bookingList[bookingList.length - 1].totalHours;\r\n  const totalChargedBookings = getTotalChargedBooking(bookingList);\r\n  const totalCancellationBookings = getTotalChargedBooking(cancellationList);\r\n  const etheraCredit = isPreviewInvoice\r\n    ? _.get(provider, \"etheraCredit\", 0)\r\n    : _.get(\r\n        bookingInvoiceDetail && bookingInvoiceDetail.provider,\r\n        \"etheraCredit\",\r\n        0\r\n      );\r\n  const promoCredit = isPreviewInvoice\r\n    ? _.get(provider, \"promoCredit\", 0)\r\n    : _.get(\r\n        bookingInvoiceDetail && bookingInvoiceDetail.provider,\r\n        \"promoCredit\",\r\n        0\r\n      );\r\n  const creditApplied =\r\n    _.isNull(totalChargedBookings) ||\r\n    _.isNull(promoCredit) ||\r\n    _.isNull(etheraCredit)\r\n      ? \"\"\r\n      : getCredit(\r\n          bookingInvoiceDetail,\r\n          totalChargedBookings,\r\n          promoCredit,\r\n          etheraCredit\r\n        );\r\n  const totalCharged =\r\n    _.isNull(totalChargedBookings) || _.isNull(creditApplied)\r\n      ? \"\"\r\n      : getTotalCharged(totalChargedBookings, creditApplied);\r\n  const creditReceived = totalCancellationBookings || 0;\r\n  const openingCreditBalance =\r\n    Number(bookingInvoiceDetail.status) === cons.BILLING_STATUS.PAID\r\n      ? bookingInvoiceDetail.providerOpenCredit\r\n      : etheraCredit;\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loading />}\r\n      {bookingInvoiceDetail && (\r\n        <Col className=\"booking-invoice-detail\">\r\n          <Card className=\"mt-3\">\r\n            <CardHeader>\r\n              <Row className=\"d-flex\">\r\n                <Col\r\n                  md={1}\r\n                  xs={12}\r\n                  className=\"d-flex flex-column align-items-center\"\r\n                >\r\n                  <Link to={\"/provider/billings/booking-invoice\"}>\r\n                    <Button color=\"info\">\r\n                      <i className=\"fa fa-arrow-left\" /> Back\r\n                    </Button>\r\n                  </Link>\r\n                </Col>\r\n                <Col\r\n                  md={5}\r\n                  xs={12}\r\n                  className=\"d-flex flex-column align-items-center\"\r\n                >\r\n                  <h2>\r\n                    <b className=\"text-primary\">EtheraPay</b>\r\n                  </h2>\r\n                  <small>\r\n                    Invoice:{\" \"}\r\n                    {`${\r\n                      isPreviewInvoice\r\n                        ? \"Preview\"\r\n                        : `#${bookingInvoiceDetail.invoiceNumber}`\r\n                    }`}\r\n                  </small>\r\n                </Col>\r\n                <Col\r\n                  md={6}\r\n                  xs={12}\r\n                  className=\"d-flex flex-column align-items-center mt-3 mt-md-0\"\r\n                >\r\n                  <h2>\r\n                    <b className=\"text-info\">{fullName}</b>\r\n                  </h2>\r\n                  <small>\r\n                    {getDateFormat(startWeek, \"MM/DD/YYYY\")} -{\" \"}\r\n                    {getDateFormat(endWeek, \"MM/DD/YYYY\")}\r\n                  </small>\r\n                </Col>\r\n              </Row>\r\n            </CardHeader>\r\n            <Table\r\n              className=\"align-items-center table-sort\"\r\n              id=\"ethera-table\"\r\n              responsive\r\n            >\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th>\r\n                    {\" \"}\r\n                    {`Week of ${getDateFormat(\r\n                      startWeek,\r\n                      \"MM/DD\"\r\n                    )} - ${getDateFormat(endWeek, \"MM/DD\")} `}{\" \"}\r\n                  </th>\r\n                  <th> Booking Number </th>\r\n                  <th> Purchase Date</th>\r\n                  <th> Reservation Date </th>\r\n                  <th> Cancellation Date </th>\r\n                  <th> Room </th>\r\n                  <th> Rate </th>\r\n                  <th> Hours Booked </th>\r\n                  <th> Running Total </th>\r\n                  <th> Total </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"client\">\r\n                {bookingList.map((item, index) => {\r\n                  return <ListDetail key={index} bookingData={item} />;\r\n                })}\r\n                {bookingList.length > 0 && (\r\n                  <TotalCharged\r\n                    totalHours={totalHours}\r\n                    totalChargedBookings={totalChargedBookings}\r\n                    creditApplied={creditApplied}\r\n                    totalCharged={totalCharged}\r\n                  />\r\n                )}\r\n                <Cancellations\r\n                  cancellations={cancellationList}\r\n                  totalCancellationBookings={totalCancellationBookings}\r\n                />\r\n              </tbody>\r\n            </Table>\r\n            <CardFooter className=\"d-flex justify-content-center\">\r\n              <h2>\r\n                <b className=\"text-primary\">\r\n                  Total Amount Due: ${fixNumber(totalCharged)}{\" \"}\r\n                </b>\r\n              </h2>\r\n            </CardFooter>\r\n          </Card>\r\n          <Row>\r\n            <Col md={6}>\r\n              <CreditBalance\r\n                openingCreditBalance={openingCreditBalance}\r\n                creditApplied={creditApplied}\r\n                creditReceived={creditReceived}\r\n              />\r\n            </Col>\r\n            {!isPreviewInvoice && (\r\n              <Col md={6}>\r\n                {\" \"}\r\n                <Button\r\n                  color=\"success\"\r\n                  size=\"sm\"\r\n                  onClick={() => exportPDF(totalCharged)}\r\n                >\r\n                  Export PDF\r\n                </Button>\r\n              </Col>\r\n            )}\r\n          </Row>\r\n        </Col>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default InvoiceDetail;\r\n"],"sourceRoot":""}