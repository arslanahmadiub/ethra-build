(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{568:function(e,a,t){"use strict";var r=t(12),n=t(15),s=t(0),l=t.n(s),c=t(4),m=t.n(c),o=t(14),i=t.n(o),d=t(6),u={tag:d.p,className:m.a.string,cssModule:m.a.object},E=function(e){var a=e.className,t=e.cssModule,s=e.tag,c=Object(n.a)(e,["className","cssModule","tag"]),m=Object(d.l)(i()(a,"card-header"),t);return l.a.createElement(s,Object(r.a)({},c,{className:m}))};E.propTypes=u,E.defaultProps={tag:"div"},a.a=E},749:function(e,a,t){},834:function(e,a,t){},979:function(e,a,t){"use strict";t.r(a);var r=t(5),n=t(53),s=t(30),l=t(31),c=t(33),m=t(32),o=t(34),i=t(0),d=t.n(i),u=t(536),E=t(554),h=t(538),f=t(556),p=t(568),N=t(539),g=t(266),b=t(560),w=t(562),v=t(563),y=t(44),j=t.n(y),C=t(48),k=t(207),O=t(8),x=t(104),F=t(125),P=(t(749),t(834),t(190)),S=t.n(P),q="Password does not match",A=function(e){function a(){var e,t;Object(s.a)(this,a);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).state={firstName:"",lastName:"",email:"",password:"",confirmPassword:"",errors:{},isFormReady:{},avatar:null},t.handleChange=function(e){var a=e.target,s=a.name,l=a.value;delete t.state.errors[s],delete t.state.errors.nonFieldErrors,t.setState(Object(n.a)({},s,l),function(){if("confirmPassword"===s||"password"===s){var e=t.state,a=e.password,n=e.confirmPassword;if(a&&n&&a!==n)t.setState({errors:Object(r.a)({},t.state.errors,{confirmPassword:[q]})});else{var l=t.state.errors;delete l.confirmPassword,t.setState({errors:l})}}})},t.handleFile=function(e){var a=e.target,r=a.name,s=a.files;s.length&&t.setState(Object(n.a)({},r,s[0]))},t.handleError=function(e,a){var s,l=!0;if(a)for(var c in t.state.isFormReady)l=l&&t.state.isFormReady[c];t.setState({isFormReady:Object(r.a)({},t.state.isFormReady,(s={},Object(n.a)(s,e,a),Object(n.a)(s,"check",l&&a),s))})},t.addAdminAccount=function(e){e.preventDefault();var a=t.state,r={firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password,avatar:a.avatar};j.a.isNull(r.avatar)&&delete r.avatar,k.a.addAdminAccount(r).then(function(){t.setState({errors:{}}),O.b.success("Create Account success"),t.goToSystemPage()}).catch(function(e){var a=e.response.data;t.setState({errors:a}),O.b.error("Create Account fail")})},t.goToSystemPage=function(){t.props.history.push("/admin/system")},t}return Object(o.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.errors,r=a.avatar;return d.a.createElement(d.a.Fragment,null,d.a.createElement(u.a,{className:"mt-6 d-flex justify-content-center align-items-center add-account",fluid:!0},d.a.createElement(E.a,{className:"card-profile card-custom"},d.a.createElement(h.a,{className:"justify-content-center card-profile-image"},d.a.createElement("div",{onClick:function(){return e.openImageFile.click()}},d.a.createElement(f.a,{alt:"...",className:"rounded-circle avatar custom-avatar",src:j.a.isObject(r)?URL.createObjectURL(r):S.a}))),d.a.createElement(p.a,{className:"text-center border-0 pb-0"},d.a.createElement(h.a,{className:"justify-content-center mt-4"},d.a.createElement(N.a,null,d.a.createElement("input",{ref:function(a){return e.openImageFile=a},onChange:this.handleFile,className:"d-none",type:"file",name:"avatar",id:"roomImage",accept:".jpg,.gif,.jpeg,.png"}),d.a.createElement(g.a,{className:"mt-4 align-items-center",color:"link",onClick:function(){return e.openImageFile.click()}},"Select Image"),d.a.createElement("div",{className:"error-text mt-3"},t.image)))),d.a.createElement(b.a,{className:"border-0 pb-0 mx-3 wrapper__body"},d.a.createElement(w.a,null,d.a.createElement(h.a,null,d.a.createElement(v.a,{className:"form-control-label"},"First Name",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(h.a,{className:"d-block"},d.a.createElement(x.a,{type:"text",name:"firstName",handleError:this.handleError,errors:t.firstName,onChange:this.handleChange,required:!0}))),d.a.createElement(w.a,null,d.a.createElement(h.a,null,d.a.createElement(v.a,{className:"form-control-label"},"Last Name",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(h.a,{className:"d-block"},d.a.createElement(x.a,{type:"text",name:"lastName",handleError:this.handleError,errors:t.lastName,onChange:this.handleChange,required:!0}))),d.a.createElement(w.a,null,d.a.createElement(h.a,null,d.a.createElement(v.a,{className:"form-control-label"},"E-mail",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(h.a,{className:"d-block"},d.a.createElement(x.a,{type:"email",name:"email",handleError:this.handleError,errors:t.email,onChange:this.handleChange,regex:"email",required:!0}))),d.a.createElement(w.a,null,d.a.createElement(h.a,null,d.a.createElement(v.a,{className:"form-control-label"},"Password",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(h.a,{className:"d-block"},d.a.createElement(x.a,{type:"password",name:"password",handleError:this.handleError,errors:t.password,onChange:this.handleChange,minLength:8,regex:"password",required:!0}))),d.a.createElement(w.a,null,d.a.createElement(h.a,null,d.a.createElement(v.a,{className:"form-control-label"},"Confirm Password",d.a.createElement("sup",{className:"text-required"},"*"))),d.a.createElement(h.a,{className:"d-block"},d.a.createElement(x.a,{type:"password",name:"confirmPassword",handleError:this.handleError,errors:t.confirmPassword,onChange:this.handleChange,required:!0}))),d.a.createElement(F.a,{error:t,className:"mt-3"})),d.a.createElement(b.a,{className:"pb-md-4"},d.a.createElement(h.a,null,d.a.createElement(N.a,{className:"mt-3 d-flex justify-content-center"},d.a.createElement("div",{className:"text-center w-75"},d.a.createElement(C.b,{to:"/admin/system",className:"d-block w-100 mb-3"},d.a.createElement(g.a,{color:"link",className:"w-100"},"CANCEL")),d.a.createElement(g.a,{color:"success",onClick:this.addAdminAccount,className:"w-100"},"Save Changes"))))))))}}]),a}(i.Component);a.default=A}}]);
//# sourceMappingURL=40.7c73cab4.chunk.js.map